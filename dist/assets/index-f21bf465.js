import{r as b,a as Ut,N as zt,O as Ht,R as te,L as Wt,b as Gt,c as le,d as Zt,B as Yt}from"./vendor-05313f76.js";import{c as $s,a as Kt,f as be,i as Fe,p as ce}from"./utils-7f8daead.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();var it={exports:{}},as={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=b,Jt=Symbol.for("react.element"),Qt=Symbol.for("react.fragment"),ea=Object.prototype.hasOwnProperty,sa=Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ta={key:!0,ref:!0,__self:!0,__source:!0};function nt(s,t,a){var l,n={},r=null,c=null;a!==void 0&&(r=""+a),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(c=t.ref);for(l in t)ea.call(t,l)&&!ta.hasOwnProperty(l)&&(n[l]=t[l]);if(s&&s.defaultProps)for(l in t=s.defaultProps,t)n[l]===void 0&&(n[l]=t[l]);return{$$typeof:Jt,type:s,key:r,ref:c,props:n,_owner:sa.current}}as.Fragment=Qt;as.jsx=nt;as.jsxs=nt;it.exports=as;var e=it.exports,hs={},qs=Ut;hs.createRoot=qs.createRoot,hs.hydrateRoot=qs.hydrateRoot;let aa={data:""},ra=s=>typeof window=="object"?((s?s.querySelector("#_goober"):window._goober)||Object.assign((s||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:s||aa,la=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,ia=/\/\*[^]*?\*\/|  +/g,Us=/\n+/g,ye=(s,t)=>{let a="",l="",n="";for(let r in s){let c=s[r];r[0]=="@"?r[1]=="i"?a=r+" "+c+";":l+=r[1]=="f"?ye(c,r):r+"{"+ye(c,r[1]=="k"?"":t)+"}":typeof c=="object"?l+=ye(c,t?t.replace(/([^,])+/g,o=>r.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,g=>/&/.test(g)?g.replace(/&/g,o):o?o+" "+g:g)):r):c!=null&&(r=/^--/.test(r)?r:r.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=ye.p?ye.p(r,c):r+":"+c+";")}return a+(t&&n?t+"{"+n+"}":n)+l},ue={},ct=s=>{if(typeof s=="object"){let t="";for(let a in s)t+=a+ct(s[a]);return t}return s},na=(s,t,a,l,n)=>{let r=ct(s),c=ue[r]||(ue[r]=(g=>{let h=0,f=11;for(;h<g.length;)f=101*f+g.charCodeAt(h++)>>>0;return"go"+f})(r));if(!ue[c]){let g=r!==s?s:(h=>{let f,E,j=[{}];for(;f=la.exec(h.replace(ia,""));)f[4]?j.shift():f[3]?(E=f[3].replace(Us," ").trim(),j.unshift(j[0][E]=j[0][E]||{})):j[0][f[1]]=f[2].replace(Us," ").trim();return j[0]})(s);ue[c]=ye(n?{["@keyframes "+c]:g}:g,a?"":"."+c)}let o=a&&ue.g?ue.g:null;return a&&(ue.g=ue[c]),((g,h,f,E)=>{E?h.data=h.data.replace(E,g):h.data.indexOf(g)===-1&&(h.data=f?g+h.data:h.data+g)})(ue[c],t,l,o),c},ca=(s,t,a)=>s.reduce((l,n,r)=>{let c=t[r];if(c&&c.call){let o=c(a),g=o&&o.props&&o.props.className||/^go/.test(o)&&o;c=g?"."+g:o&&typeof o=="object"?o.props?"":ye(o,""):o===!1?"":o}return l+n+(c??"")},"");function rs(s){let t=this||{},a=s.call?s(t.p):s;return na(a.unshift?a.raw?ca(a,[].slice.call(arguments,1),t.p):a.reduce((l,n)=>Object.assign(l,n&&n.call?n(t.p):n),{}):a,ra(t.target),t.g,t.o,t.k)}let ot,fs,ys;rs.bind({g:1});let he=rs.bind({k:1});function oa(s,t,a,l){ye.p=t,ot=s,fs=a,ys=l}function je(s,t){let a=this||{};return function(){let l=arguments;function n(r,c){let o=Object.assign({},r),g=o.className||n.className;a.p=Object.assign({theme:fs&&fs()},o),a.o=/ *go\d+/.test(g),o.className=rs.apply(a,l)+(g?" "+g:""),t&&(o.ref=c);let h=s;return s[0]&&(h=o.as||s,delete o.as),ys&&h[0]&&ys(o),ot(h,o)}return t?t(n):n}}var da=s=>typeof s=="function",Le=(s,t)=>da(s)?s(t):s,ma=(()=>{let s=0;return()=>(++s).toString()})(),dt=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");s=!t||t.matches}return s}})(),ua=20,mt=(s,t)=>{switch(t.type){case 0:return{...s,toasts:[t.toast,...s.toasts].slice(0,ua)};case 1:return{...s,toasts:s.toasts.map(r=>r.id===t.toast.id?{...r,...t.toast}:r)};case 2:let{toast:a}=t;return mt(s,{type:s.toasts.find(r=>r.id===a.id)?1:0,toast:a});case 3:let{toastId:l}=t;return{...s,toasts:s.toasts.map(r=>r.id===l||l===void 0?{...r,dismissed:!0,visible:!1}:r)};case 4:return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(r=>r.id!==t.toastId)};case 5:return{...s,pausedAt:t.time};case 6:let n=t.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(r=>({...r,pauseDuration:r.pauseDuration+n}))}}},Ge=[],Ne={toasts:[],pausedAt:void 0},Ae=s=>{Ne=mt(Ne,s),Ge.forEach(t=>{t(Ne)})},xa={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},ut=(s={})=>{let[t,a]=b.useState(Ne),l=b.useRef(Ne);b.useEffect(()=>(l.current!==Ne&&a(Ne),Ge.push(a),()=>{let r=Ge.indexOf(a);r>-1&&Ge.splice(r,1)}),[]);let n=t.toasts.map(r=>{var c,o,g;return{...s,...s[r.type],...r,removeDelay:r.removeDelay||((c=s[r.type])==null?void 0:c.removeDelay)||(s==null?void 0:s.removeDelay),duration:r.duration||((o=s[r.type])==null?void 0:o.duration)||(s==null?void 0:s.duration)||xa[r.type],style:{...s.style,...(g=s[r.type])==null?void 0:g.style,...r.style}}});return{...t,toasts:n}},ha=(s,t="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...a,id:(a==null?void 0:a.id)||ma()}),$e=s=>(t,a)=>{let l=ha(t,s,a);return Ae({type:2,toast:l}),l.id},J=(s,t)=>$e("blank")(s,t);J.error=$e("error");J.success=$e("success");J.loading=$e("loading");J.custom=$e("custom");J.dismiss=s=>{Ae({type:3,toastId:s})};J.remove=s=>Ae({type:4,toastId:s});J.promise=(s,t,a)=>{let l=J.loading(t.loading,{...a,...a==null?void 0:a.loading});return typeof s=="function"&&(s=s()),s.then(n=>{let r=t.success?Le(t.success,n):void 0;return r?J.success(r,{id:l,...a,...a==null?void 0:a.success}):J.dismiss(l),n}).catch(n=>{let r=t.error?Le(t.error,n):void 0;r?J.error(r,{id:l,...a,...a==null?void 0:a.error}):J.dismiss(l)}),s};var fa=(s,t)=>{Ae({type:1,toast:{id:s,height:t}})},ya=()=>{Ae({type:5,time:Date.now()})},Re=new Map,ga=1e3,ba=(s,t=ga)=>{if(Re.has(s))return;let a=setTimeout(()=>{Re.delete(s),Ae({type:4,toastId:s})},t);Re.set(s,a)},xt=s=>{let{toasts:t,pausedAt:a}=ut(s);b.useEffect(()=>{if(a)return;let r=Date.now(),c=t.map(o=>{if(o.duration===1/0)return;let g=(o.duration||0)+o.pauseDuration-(r-o.createdAt);if(g<0){o.visible&&J.dismiss(o.id);return}return setTimeout(()=>J.dismiss(o.id),g)});return()=>{c.forEach(o=>o&&clearTimeout(o))}},[t,a]);let l=b.useCallback(()=>{a&&Ae({type:6,time:Date.now()})},[a]),n=b.useCallback((r,c)=>{let{reverseOrder:o=!1,gutter:g=8,defaultPosition:h}=c||{},f=t.filter(O=>(O.position||h)===(r.position||h)&&O.height),E=f.findIndex(O=>O.id===r.id),j=f.filter((O,R)=>R<E&&O.visible).length;return f.filter(O=>O.visible).slice(...o?[j+1]:[0,j]).reduce((O,R)=>O+(R.height||0)+g,0)},[t]);return b.useEffect(()=>{t.forEach(r=>{if(r.dismissed)ba(r.id,r.removeDelay);else{let c=Re.get(r.id);c&&(clearTimeout(c),Re.delete(r.id))}})},[t]),{toasts:t,handlers:{updateHeight:fa,startPause:ya,endPause:l,calculateOffset:n}}},pa=he`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,ja=he`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,va=he`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,ht=je("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${pa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${ja} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${va} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Na=he`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,ft=je("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${Na} 1s linear infinite;
`,wa=he`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,ka=he`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,yt=je("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${wa} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${ka} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Sa=je("div")`
  position: absolute;
`,Ea=je("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Aa=he`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Da=je("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Aa} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,gt=({toast:s})=>{let{icon:t,type:a,iconTheme:l}=s;return t!==void 0?typeof t=="string"?b.createElement(Da,null,t):t:a==="blank"?null:b.createElement(Ea,null,b.createElement(ft,{...l}),a!=="loading"&&b.createElement(Sa,null,a==="error"?b.createElement(ht,{...l}):b.createElement(yt,{...l})))},Ma=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Ca=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,Ta="0%{opacity:0;} 100%{opacity:1;}",Fa="0%{opacity:1;} 100%{opacity:0;}",Va=je("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Ia=je("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Ra=(s,t)=>{let a=s.includes("top")?1:-1,[l,n]=dt()?[Ta,Fa]:[Ma(a),Ca(a)];return{animation:t?`${he(l)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${he(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},bt=b.memo(({toast:s,position:t,style:a,children:l})=>{let n=s.height?Ra(s.position||t||"top-center",s.visible):{opacity:0},r=b.createElement(gt,{toast:s}),c=b.createElement(Ia,{...s.ariaProps},Le(s.message,s));return b.createElement(Va,{className:s.className,style:{...n,...a,...s.style}},typeof l=="function"?l({icon:r,message:c}):b.createElement(b.Fragment,null,r,c))});oa(b.createElement);var _a=({id:s,className:t,style:a,onHeightUpdate:l,children:n})=>{let r=b.useCallback(c=>{if(c){let o=()=>{let g=c.getBoundingClientRect().height;l(s,g)};o(),new MutationObserver(o).observe(c,{subtree:!0,childList:!0,characterData:!0})}},[s,l]);return b.createElement("div",{ref:r,className:t,style:a},n)},Oa=(s,t)=>{let a=s.includes("top"),l=a?{top:0}:{bottom:0},n=s.includes("center")?{justifyContent:"center"}:s.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:dt()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(a?1:-1)}px)`,...l,...n}},Ba=rs`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,We=16,pt=({reverseOrder:s,position:t="top-center",toastOptions:a,gutter:l,children:n,containerStyle:r,containerClassName:c})=>{let{toasts:o,handlers:g}=xt(a);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:We,left:We,right:We,bottom:We,pointerEvents:"none",...r},className:c,onMouseEnter:g.startPause,onMouseLeave:g.endPause},o.map(h=>{let f=h.position||t,E=g.calculateOffset(h,{reverseOrder:s,gutter:l,defaultPosition:t}),j=Oa(f,E);return b.createElement(_a,{id:h.id,key:h.id,onHeightUpdate:g.updateHeight,className:h.visible?Ba:"",style:j},h.type==="custom"?Le(h.message,h):n?n(h):b.createElement(bt,{toast:h,position:f}))}))},ee=J;const La=Object.freeze(Object.defineProperty({__proto__:null,CheckmarkIcon:yt,ErrorIcon:ht,LoaderIcon:ft,ToastBar:bt,ToastIcon:gt,Toaster:pt,default:ee,resolveValue:Le,toast:J,useToaster:xt,useToasterStore:ut},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),_=(s,t)=>{const a=b.forwardRef(({color:l="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:c,className:o="",children:g,...h},f)=>b.createElement("svg",{ref:f,...Pa,width:n,height:n,stroke:l,strokeWidth:c?Number(r)*24/Number(n):r,className:["lucide",`lucide-${$a(s)}`,o].join(" "),...h},[...t.map(([E,j])=>b.createElement(E,j)),...Array.isArray(g)?g:[g]]));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=_("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=_("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=_("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=_("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=_("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=_("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=_("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=_("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=_("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=_("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=_("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const za=_("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=_("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=_("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=_("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=_("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=_("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=_("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=_("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=_("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=_("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=_("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=_("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=_("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=_("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=_("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=_("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=_("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=_("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=_("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=_("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=_("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=_("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const er=_("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const js=_("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=_("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),sr=[{name:"Dashboard",href:"/dashboard",icon:Ga},{name:"Books",href:"/books",icon:Ye},{name:"Members",href:"/members",icon:js},{name:"Transactions",href:"/transactions",icon:bs},{name:"Fines",href:"/fines",icon:ws},{name:"Notifications",href:"/notifications",icon:we},{name:"Reports",href:"/reports",icon:Ze},{name:"Settings",href:"/settings",icon:Qe}],tr=({isOpen:s,onClose:t})=>e.jsxs(e.Fragment,{children:[s&&e.jsx("div",{className:"fixed inset-0 z-40 bg-black bg-opacity-50 lg:hidden",onClick:t}),e.jsx("div",{className:$s("fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 lg:static lg:inset-0",s?"translate-x-0":"-translate-x-full"),children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 lg:hidden",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-600 rounded-lg",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"LMS"})}),e.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Library"})]}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100",children:e.jsx(wt,{className:"h-5 w-5"})})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-2",children:sr.map(a=>e.jsxs(zt,{to:a.href,onClick:()=>t(),className:({isActive:l})=>$s("sidebar-link",l&&"active"),children:[e.jsx(a.icon,{className:"h-5 w-5 mr-3"}),a.name]},a.name))}),e.jsx("div",{className:"p-4 border-t border-gray-200",children:e.jsxs("div",{className:"text-xs text-gray-500 text-center",children:["Library Management System",e.jsx("br",{}),"Version 1.0.0"]})})]})})]}),L=Kt.create({baseURL:"/api",timeout:1e4,headers:{"Content-Type":"application/json"}});L.interceptors.request.use(s=>{const t=localStorage.getItem("authToken");return t&&(s.headers.Authorization=`Bearer ${t}`),s},s=>Promise.reject(s));L.interceptors.response.use(s=>s,s=>{var a,l,n,r;const t=((l=(a=s.response)==null?void 0:a.data)==null?void 0:l.message)||s.message||"An error occurred";return((n=s.response)==null?void 0:n.status)===404&&((r=s.config)==null?void 0:r.method)==="get"||ee.error(t),Promise.reject(s)});const ke={getAll:()=>L.get("/books"),getById:s=>L.get(`/books/${s}`),search:s=>L.get("/books/search",{params:s}),create:s=>L.post("/books",s),update:(s,t)=>L.put(`/books/${s}`,t),delete:s=>L.delete(`/books/${s}`)},de={getAll:()=>L.get("/members"),getById:s=>L.get(`/members/${s}`),create:s=>L.post("/members",s),update:(s,t)=>L.put(`/members/${s}`,t),updateStatus:(s,t)=>L.put(`/members/${s}/status`,{status:t}),delete:s=>L.delete(`/members/${s}`)},Ee={getAll:()=>L.get("/transactions"),getById:s=>L.get(`/transactions/${s}`),getByMember:s=>L.get(`/transactions/member/${s}`),getOverdue:()=>L.get("/transactions/overdue"),borrow:s=>L.post("/transactions/borrow",s),return:s=>L.put(`/transactions/${s}/return`)},_e={getAll:()=>L.get("/fines"),getById:s=>L.get(`/fines/${s}`),getByMember:s=>L.get(`/fines/member/${s}`),create:s=>L.post("/fines",s),pay:s=>L.put(`/fines/${s}/pay`)},ve={getAll:()=>L.get("/notifications"),getById:s=>L.get(`/notifications/${s}`),getByMember:s=>L.get(`/notifications/member/${s}`),getStats:()=>L.get("/notifications/stats"),create:s=>L.post("/notifications",s),createDueReminder:s=>L.post("/notifications/due-reminder",s),createOverdueAlert:s=>L.post("/notifications/overdue-alert",s),createFineNotice:s=>L.post("/notifications/fine-notice",s)},kt={getStats:async()=>{try{const[s,t,a,l]=await Promise.all([ke.getAll(),de.getAll(),Ee.getAll(),_e.getAll()]),n=s.data.length,r=t.data.length,c=a.data.filter(f=>f.status==="BORROWED").length,o=a.data.filter(f=>f.status==="BORROWED"&&new Date(f.dueDate)<new Date).length,g=l.data.reduce((f,E)=>f+E.amount,0),h=l.data.filter(f=>f.status==="PENDING").length;return{totalBooks:n,totalMembers:r,activeTransactions:c,overdueTransactions:o,totalFines:g,pendingFines:h,recentTransactions:a.data.slice(0,5),recentMembers:t.data.slice(0,5)}}catch(s){throw s}}},ar=({onMenuClick:s})=>{const[t,a]=b.useState([]),[l,n]=b.useState(!1),[r,c]=b.useState(!1);b.useEffect(()=>{o()},[]);const o=async()=>{try{const g=await ve.getAll();a(g.data.filter(h=>h.status==="PENDING").slice(0,5))}catch(g){console.error("Error fetching notifications:",g)}};return e.jsx("header",{className:"bg-white border-b border-gray-200 shadow-sm",children:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:s,className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 lg:hidden",children:e.jsx(Ka,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 bg-primary-600 rounded-lg",children:e.jsx("span",{className:"text-white font-bold text-sm",children:"LMS"})}),e.jsx("h1",{className:"text-xl font-bold text-gray-900 hidden sm:block",children:"Library Management System"})]})]}),e.jsx("div",{className:"hidden md:flex flex-1 max-w-md mx-8",children:e.jsxs("div",{className:"relative w-full",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search books, members...",className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>n(!l),className:"p-2 rounded-lg text-gray-600 hover:bg-gray-100 relative",children:[e.jsx(we,{className:"h-5 w-5"}),t.length>0&&e.jsx("span",{className:"absolute -top-1 -right-1 h-4 w-4 bg-red-500 text-white text-xs rounded-full flex items-center justify-center",children:t.length})]}),l&&e.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:[e.jsx("div",{className:"p-4 border-b border-gray-200",children:e.jsx("h3",{className:"text-sm font-medium text-gray-900",children:"Notifications"})}),e.jsx("div",{className:"max-h-64 overflow-y-auto",children:t.length>0?t.map(g=>e.jsxs("div",{className:"p-4 border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("p",{className:"text-sm text-gray-900",children:g.message}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(g.createdAt).toLocaleDateString()})]},g.id)):e.jsx("div",{className:"p-4 text-center text-gray-500",children:"No new notifications"})})]})]}),e.jsxs("div",{className:"relative",children:[e.jsxs("button",{onClick:()=>c(!r),className:"flex items-center space-x-2 p-2 rounded-lg text-gray-600 hover:bg-gray-100",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx(er,{className:"h-4 w-4 text-white"})}),e.jsx("span",{className:"hidden sm:block text-sm font-medium",children:"Admin"})]}),r&&e.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 z-50",children:e.jsxs("div",{className:"p-2",children:[e.jsxs("button",{className:"flex items-center space-x-2 w-full p-2 text-left text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsx(Qe,{className:"h-4 w-4"}),e.jsx("span",{children:"Settings"})]}),e.jsxs("button",{className:"flex items-center space-x-2 w-full p-2 text-left text-sm text-gray-700 hover:bg-gray-100 rounded-lg",children:[e.jsx(Za,{className:"h-4 w-4"}),e.jsx("span",{children:"Logout"})]})]})})]})]})]})})},rr=()=>{const[s,t]=b.useState(!1);return e.jsxs("div",{className:"flex h-screen bg-gray-50",children:[e.jsx(tr,{isOpen:s,onClose:()=>t(!1)}),e.jsxs("div",{className:"flex flex-1 flex-col overflow-hidden",children:[e.jsx(ar,{onMenuClick:()=>t(!0)}),e.jsx("main",{className:"flex-1 overflow-auto",children:e.jsx("div",{className:"container mx-auto px-4 py-6 max-w-7xl",children:e.jsx(Ht,{})})})]})]})},Ss=({size:s="md",className:t=""})=>{const a={sm:"h-4 w-4",md:"h-6 w-6",lg:"h-8 w-8",xl:"h-12 w-12"};return e.jsx("div",{className:`loading-spinner ${a[s]} ${t}`})},lr=()=>{var g;const[s,t]=b.useState(null),[a,l]=b.useState([]),[n,r]=b.useState(!0);b.useEffect(()=>{c()},[]);const c=async()=>{try{r(!0);const[h,f]=await Promise.all([kt.getStats(),Ee.getAll()]);t(h),l(f.data.slice(0,5))}catch(h){console.error("Error fetching dashboard data:",h)}finally{r(!1)}};if(n)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ss,{size:"xl"})});const o=[{title:"Total Books",value:(s==null?void 0:s.totalBooks)||0,icon:Ye,color:"from-blue-500 to-blue-600",change:"+12%",changeType:"positive"},{title:"Active Members",value:(s==null?void 0:s.totalMembers)||0,icon:js,color:"from-green-500 to-green-600",change:"+8%",changeType:"positive"},{title:"Active Loans",value:(s==null?void 0:s.activeTransactions)||0,icon:bs,color:"from-purple-500 to-purple-600",change:"+5%",changeType:"positive"},{title:"Overdue Books",value:(s==null?void 0:s.overdueTransactions)||0,icon:Ns,color:"from-red-500 to-red-600",change:"-3%",changeType:"negative"},{title:"Total Fines",value:`$${((g=s==null?void 0:s.totalFines)==null?void 0:g.toFixed(2))||"0.00"}`,icon:ws,color:"from-yellow-500 to-yellow-600",change:"+15%",changeType:"positive"},{title:"Pending Fines",value:(s==null?void 0:s.pendingFines)||0,icon:Pe,color:"from-orange-500 to-orange-600",change:"-5%",changeType:"negative"}];return e.jsxs("div",{className:"space-y-6 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),e.jsx("p",{className:"text-gray-600",children:"Welcome back! Here's what's happening at your library."})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[e.jsx(jt,{className:"h-4 w-4"}),e.jsx("span",{children:be(new Date,"EEEE, MMMM d, yyyy")})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map((h,f)=>e.jsx("div",{className:`stat-card bg-gradient-to-br ${h.color}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white/80 text-sm font-medium",children:h.title}),e.jsx("p",{className:"text-2xl font-bold text-white mt-1",children:h.value}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx(Ke,{className:`h-3 w-3 mr-1 ${h.changeType==="positive"?"text-green-200":"text-red-200"}`}),e.jsxs("span",{className:`text-xs ${h.changeType==="positive"?"text-green-200":"text-red-200"}`,children:[h.change," from last month"]})]})]}),e.jsx("div",{className:"bg-white/20 p-3 rounded-lg",children:e.jsx(h.icon,{className:"h-6 w-6 text-white"})})]})},f))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Transactions"}),e.jsx("button",{className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:a.length>0?a.map(h=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Ye,{className:"h-4 w-4 text-primary-600"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["Book ID: ",h.bookId]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Member ID: ",h.memberId]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:`badge ${h.status==="BORROWED"?"badge-warning":"badge-success"}`,children:h.status}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:be(new Date(h.borrowDate),"MMM d")})]})]},h.id)):e.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent transactions"})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("button",{className:"flex flex-col items-center p-4 bg-primary-50 rounded-lg hover:bg-primary-100 transition-colors",children:[e.jsx(Ye,{className:"h-8 w-8 text-primary-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-primary-700",children:"Add Book"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-green-50 rounded-lg hover:bg-green-100 transition-colors",children:[e.jsx(js,{className:"h-8 w-8 text-green-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-green-700",children:"Add Member"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-purple-50 rounded-lg hover:bg-purple-100 transition-colors",children:[e.jsx(bs,{className:"h-8 w-8 text-purple-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-purple-700",children:"New Transaction"})]}),e.jsxs("button",{className:"flex flex-col items-center p-4 bg-orange-50 rounded-lg hover:bg-orange-100 transition-colors",children:[e.jsx(Pe,{className:"h-8 w-8 text-orange-600 mb-2"}),e.jsx("span",{className:"text-sm font-medium text-orange-700",children:"View Overdue"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Transactions"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Chart coming soon..."})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Popular Books"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsx("p",{className:"text-gray-500",children:"Chart coming soon..."})})]})]})]})},qe=({data:s=[],columns:t=[],loading:a=!1,searchable:l=!0,sortable:n=!0,pagination:r=!0,pageSize:c=10,emptyMessage:o="No data available"})=>{const[g,h]=b.useState(""),[f,E]=b.useState({key:null,direction:"asc"}),[j,O]=b.useState(1),R=s.filter(v=>t.some(B=>{const P=B.accessor?v[B.accessor]:"";return P==null?void 0:P.toString().toLowerCase().includes(g.toLowerCase())})),T=te.useMemo(()=>f.key?[...R].sort((v,B)=>{const P=v[f.key],K=B[f.key];return P<K?f.direction==="asc"?-1:1:P>K?f.direction==="asc"?1:-1:0}):R,[R,f]),V=Math.ceil(T.length/c),U=(j-1)*c,F=r?T.slice(U,U+c):T,k=v=>{n&&E(B=>({key:v,direction:B.key===v&&B.direction==="asc"?"desc":"asc"}))},I=v=>f.key!==v?null:f.direction==="asc"?e.jsx(Ua,{className:"h-4 w-4"}):e.jsx(qa,{className:"h-4 w-4"});return a?e.jsx("div",{className:"table-container",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Ss,{size:"lg"})})}):e.jsxs("div",{className:"space-y-4",children:[l&&e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search...",value:g,onChange:v=>h(v.target.value),className:"input-field pl-10"})]}),e.jsx("div",{className:"table-container",children:e.jsxs("table",{className:"table",children:[e.jsx("thead",{children:e.jsx("tr",{children:t.map(v=>e.jsx("th",{className:`table-header ${n&&v.sortable!==!1?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>v.sortable!==!1&&k(v.accessor),children:e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{children:v.header}),n&&v.sortable!==!1&&I(v.accessor)]})},v.key))})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:F.length>0?F.map((v,B)=>e.jsx("tr",{className:"hover:bg-gray-50",children:t.map(P=>e.jsx("td",{className:"table-cell",children:P.render?P.render(v):v[P.accessor]},P.key))},v.id||B)):e.jsx("tr",{children:e.jsx("td",{colSpan:t.length,className:"table-cell text-center text-gray-500 py-8",children:o})})})]})}),r&&V>1&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:["Showing ",U+1," to ",Math.min(U+c,T.length)," of ",T.length," results"]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>O(v=>Math.max(v-1,1)),disabled:j===1,className:"btn btn-outline disabled:opacity-50",children:"Previous"}),Array.from({length:V},(v,B)=>B+1).map(v=>e.jsx("button",{onClick:()=>O(v),className:`btn ${j===v?"btn-primary":"btn-outline"}`,children:v},v)),e.jsx("button",{onClick:()=>O(v=>Math.min(v+1,V)),disabled:j===V,className:"btn btn-outline disabled:opacity-50",children:"Next"})]})]})]})},pe=({isOpen:s,onClose:t,title:a,children:l,size:n="md"})=>{if(b.useEffect(()=>(s?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[s]),!s)return null;const r={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return e.jsx("div",{className:"modal-overlay",onClick:t,children:e.jsxs("div",{className:`modal-content ${r[n]} animate-slide-up`,onClick:c=>c.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:a}),e.jsx("button",{onClick:t,className:"p-1 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:e.jsx(wt,{className:"h-5 w-5"})})]}),l]})})},St=({isOpen:s,onClose:t,onConfirm:a,title:l="Confirm Action",message:n="Are you sure you want to proceed?",confirmText:r="Confirm",cancelText:c="Cancel",type:o="danger"})=>{const g=()=>{a(),t()},h={danger:"btn-danger",primary:"btn-primary",secondary:"btn-secondary"};return e.jsxs(pe,{isOpen:s,onClose:t,title:l,size:"sm",children:[e.jsxs("div",{className:"flex items-start space-x-3 mb-6",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(Pe,{className:"h-6 w-6 text-amber-500"})}),e.jsx("div",{children:e.jsx("p",{className:"text-sm text-gray-700",children:n})})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx("button",{onClick:t,className:"btn btn-outline",children:c}),e.jsx("button",{onClick:g,className:`btn ${h[o]}`,children:r})]})]})};var Ue=s=>s.type==="checkbox",Se=s=>s instanceof Date,Q=s=>s==null;const Et=s=>typeof s=="object";var Z=s=>!Q(s)&&!Array.isArray(s)&&Et(s)&&!Se(s),ir=s=>Z(s)&&s.target?Ue(s.target)?s.target.checked:s.target.value:s,nr=s=>s.substring(0,s.search(/\.\d+(\.|$)/))||s,cr=(s,t)=>s.has(nr(t)),or=s=>{const t=s.constructor&&s.constructor.prototype;return Z(t)&&t.hasOwnProperty("isPrototypeOf")},Es=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function X(s){let t;const a=Array.isArray(s),l=typeof FileList<"u"?s instanceof FileList:!1;if(s instanceof Date)t=new Date(s);else if(s instanceof Set)t=new Set(s);else if(!(Es&&(s instanceof Blob||l))&&(a||Z(s)))if(t=a?[]:{},!a&&!or(s))t=s;else for(const n in s)s.hasOwnProperty(n)&&(t[n]=X(s[n]));else return s;return t}var is=s=>/^\w*$/.test(s),G=s=>s===void 0,As=s=>Array.isArray(s)?s.filter(Boolean):[],Ds=s=>As(s.replace(/["|']|\]/g,"").split(/\.|\[/)),D=(s,t,a)=>{if(!t||!Z(s))return a;const l=(is(t)?[t]:Ds(t)).reduce((n,r)=>Q(n)?n:n[r],s);return G(l)||l===s?G(s[t])?a:s[t]:l},oe=s=>typeof s=="boolean",H=(s,t,a)=>{let l=-1;const n=is(t)?[t]:Ds(t),r=n.length,c=r-1;for(;++l<r;){const o=n[l];let g=a;if(l!==c){const h=s[o];g=Z(h)||Array.isArray(h)?h:isNaN(+n[l+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;s[o]=g,s=s[o]}};const Gs={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ie={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},xe={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},dr=te.createContext(null);dr.displayName="HookFormContext";var mr=(s,t,a,l=!0)=>{const n={defaultValues:t._defaultValues};for(const r in s)Object.defineProperty(n,r,{get:()=>{const c=r;return t._proxyFormState[c]!==ie.all&&(t._proxyFormState[c]=!l||ie.all),a&&(a[c]=!0),s[c]}});return n};const ur=typeof window<"u"?b.useLayoutEffect:b.useEffect;var me=s=>typeof s=="string",xr=(s,t,a,l,n)=>me(s)?(l&&t.watch.add(s),D(a,s,n)):Array.isArray(s)?s.map(r=>(l&&t.watch.add(r),D(a,r))):(l&&(t.watchAll=!0),a),hr=(s,t,a,l,n)=>t?{...a[s],types:{...a[s]&&a[s].types?a[s].types:{},[l]:n||!0}}:{},Oe=s=>Array.isArray(s)?s:[s],Zs=()=>{let s=[];return{get observers(){return s},next:n=>{for(const r of s)r.next&&r.next(n)},subscribe:n=>(s.push(n),{unsubscribe:()=>{s=s.filter(r=>r!==n)}}),unsubscribe:()=>{s=[]}}},vs=s=>Q(s)||!Et(s);function ge(s,t,a=new WeakSet){if(vs(s)||vs(t))return s===t;if(Se(s)&&Se(t))return s.getTime()===t.getTime();const l=Object.keys(s),n=Object.keys(t);if(l.length!==n.length)return!1;if(a.has(s)||a.has(t))return!0;a.add(s),a.add(t);for(const r of l){const c=s[r];if(!n.includes(r))return!1;if(r!=="ref"){const o=t[r];if(Se(c)&&Se(o)||Z(c)&&Z(o)||Array.isArray(c)&&Array.isArray(o)?!ge(c,o,a):c!==o)return!1}}return!0}var se=s=>Z(s)&&!Object.keys(s).length,Ms=s=>s.type==="file",ne=s=>typeof s=="function",es=s=>{if(!Es)return!1;const t=s?s.ownerDocument:0;return s instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},At=s=>s.type==="select-multiple",Cs=s=>s.type==="radio",fr=s=>Cs(s)||Ue(s),xs=s=>es(s)&&s.isConnected;function yr(s,t){const a=t.slice(0,-1).length;let l=0;for(;l<a;)s=G(s)?l++:s[t[l++]];return s}function gr(s){for(const t in s)if(s.hasOwnProperty(t)&&!G(s[t]))return!1;return!0}function Y(s,t){const a=Array.isArray(t)?t:is(t)?[t]:Ds(t),l=a.length===1?s:yr(s,a),n=a.length-1,r=a[n];return l&&delete l[r],n!==0&&(Z(l)&&se(l)||Array.isArray(l)&&gr(l))&&Y(s,a.slice(0,-1)),s}var Dt=s=>{for(const t in s)if(ne(s[t]))return!0;return!1};function ss(s,t={}){const a=Array.isArray(s);if(Z(s)||a)for(const l in s)Array.isArray(s[l])||Z(s[l])&&!Dt(s[l])?(t[l]=Array.isArray(s[l])?[]:{},ss(s[l],t[l])):Q(s[l])||(t[l]=!0);return t}function Mt(s,t,a){const l=Array.isArray(s);if(Z(s)||l)for(const n in s)Array.isArray(s[n])||Z(s[n])&&!Dt(s[n])?G(t)||vs(a[n])?a[n]=Array.isArray(s[n])?ss(s[n],[]):{...ss(s[n])}:Mt(s[n],Q(t)?{}:t[n],a[n]):a[n]=!ge(s[n],t[n]);return a}var Ve=(s,t)=>Mt(s,t,ss(t));const Ys={value:!1,isValid:!1},Ks={value:!0,isValid:!0};var Ct=s=>{if(Array.isArray(s)){if(s.length>1){const t=s.filter(a=>a&&a.checked&&!a.disabled).map(a=>a.value);return{value:t,isValid:!!t.length}}return s[0].checked&&!s[0].disabled?s[0].attributes&&!G(s[0].attributes.value)?G(s[0].value)||s[0].value===""?Ks:{value:s[0].value,isValid:!0}:Ks:Ys}return Ys},Tt=(s,{valueAsNumber:t,valueAsDate:a,setValueAs:l})=>G(s)?s:t?s===""?NaN:s&&+s:a&&me(s)?new Date(s):l?l(s):s;const Xs={isValid:!1,value:null};var Ft=s=>Array.isArray(s)?s.reduce((t,a)=>a&&a.checked&&!a.disabled?{isValid:!0,value:a.value}:t,Xs):Xs;function Js(s){const t=s.ref;return Ms(t)?t.files:Cs(t)?Ft(s.refs).value:At(t)?[...t.selectedOptions].map(({value:a})=>a):Ue(t)?Ct(s.refs).value:Tt(G(t.value)?s.ref.value:t.value,s)}var br=(s,t,a,l)=>{const n={};for(const r of s){const c=D(t,r);c&&H(n,r,c._f)}return{criteriaMode:a,names:[...s],fields:n,shouldUseNativeValidation:l}},ts=s=>s instanceof RegExp,Ie=s=>G(s)?s:ts(s)?s.source:Z(s)?ts(s.value)?s.value.source:s.value:s,Qs=s=>({isOnSubmit:!s||s===ie.onSubmit,isOnBlur:s===ie.onBlur,isOnChange:s===ie.onChange,isOnAll:s===ie.all,isOnTouch:s===ie.onTouched});const et="AsyncFunction";var pr=s=>!!s&&!!s.validate&&!!(ne(s.validate)&&s.validate.constructor.name===et||Z(s.validate)&&Object.values(s.validate).find(t=>t.constructor.name===et)),jr=s=>s.mount&&(s.required||s.min||s.max||s.maxLength||s.minLength||s.pattern||s.validate),st=(s,t,a)=>!a&&(t.watchAll||t.watch.has(s)||[...t.watch].some(l=>s.startsWith(l)&&/^\.\w+/.test(s.slice(l.length))));const Be=(s,t,a,l)=>{for(const n of a||Object.keys(s)){const r=D(s,n);if(r){const{_f:c,...o}=r;if(c){if(c.refs&&c.refs[0]&&t(c.refs[0],n)&&!l)return!0;if(c.ref&&t(c.ref,c.name)&&!l)return!0;if(Be(o,t))break}else if(Z(o)&&Be(o,t))break}}};function tt(s,t,a){const l=D(s,a);if(l||is(a))return{error:l,name:a};const n=a.split(".");for(;n.length;){const r=n.join("."),c=D(t,r),o=D(s,r);if(c&&!Array.isArray(c)&&a!==r)return{name:a};if(o&&o.type)return{name:r,error:o};if(o&&o.root&&o.root.type)return{name:`${r}.root`,error:o.root};n.pop()}return{name:a}}var vr=(s,t,a,l)=>{a(s);const{name:n,...r}=s;return se(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find(c=>t[c]===(!l||ie.all))},Nr=(s,t,a)=>!s||!t||s===t||Oe(s).some(l=>l&&(a?l===t:l.startsWith(t)||t.startsWith(l))),wr=(s,t,a,l,n)=>n.isOnAll?!1:!a&&n.isOnTouch?!(t||s):(a?l.isOnBlur:n.isOnBlur)?!s:(a?l.isOnChange:n.isOnChange)?s:!0,kr=(s,t)=>!As(D(s,t)).length&&Y(s,t),Sr=(s,t,a)=>{const l=Oe(D(s,a));return H(l,"root",t[a]),H(s,a,l),s},Xe=s=>me(s);function at(s,t,a="validate"){if(Xe(s)||Array.isArray(s)&&s.every(Xe)||oe(s)&&!s)return{type:a,message:Xe(s)?s:"",ref:t}}var Me=s=>Z(s)&&!ts(s)?s:{value:s,message:""},rt=async(s,t,a,l,n,r)=>{const{ref:c,refs:o,required:g,maxLength:h,minLength:f,min:E,max:j,pattern:O,validate:R,name:T,valueAsNumber:V,mount:U}=s._f,F=D(a,T);if(!U||t.has(T))return{};const k=o?o[0]:c,I=m=>{n&&k.reportValidity&&(k.setCustomValidity(oe(m)?"":m||""),k.reportValidity())},v={},B=Cs(c),P=Ue(c),K=B||P,x=(V||Ms(c))&&G(c.value)&&G(F)||es(c)&&c.value===""||F===""||Array.isArray(F)&&!F.length,N=hr.bind(null,T,l,v),y=(m,M,$,A=xe.maxLength,W=xe.minLength)=>{const ae=m?M:$;v[T]={type:m?A:W,message:ae,ref:c,...N(m?A:W,ae)}};if(r?!Array.isArray(F)||!F.length:g&&(!K&&(x||Q(F))||oe(F)&&!F||P&&!Ct(o).isValid||B&&!Ft(o).isValid)){const{value:m,message:M}=Xe(g)?{value:!!g,message:g}:Me(g);if(m&&(v[T]={type:xe.required,message:M,ref:k,...N(xe.required,M)},!l))return I(M),v}if(!x&&(!Q(E)||!Q(j))){let m,M;const $=Me(j),A=Me(E);if(!Q(F)&&!isNaN(F)){const W=c.valueAsNumber||F&&+F;Q($.value)||(m=W>$.value),Q(A.value)||(M=W<A.value)}else{const W=c.valueAsDate||new Date(F),ae=ze=>new Date(new Date().toDateString()+" "+ze),Te=c.type=="time",De=c.type=="week";me($.value)&&F&&(m=Te?ae(F)>ae($.value):De?F>$.value:W>new Date($.value)),me(A.value)&&F&&(M=Te?ae(F)<ae(A.value):De?F<A.value:W<new Date(A.value))}if((m||M)&&(y(!!m,$.message,A.message,xe.max,xe.min),!l))return I(v[T].message),v}if((h||f)&&!x&&(me(F)||r&&Array.isArray(F))){const m=Me(h),M=Me(f),$=!Q(m.value)&&F.length>+m.value,A=!Q(M.value)&&F.length<+M.value;if(($||A)&&(y($,m.message,M.message),!l))return I(v[T].message),v}if(O&&!x&&me(F)){const{value:m,message:M}=Me(O);if(ts(m)&&!F.match(m)&&(v[T]={type:xe.pattern,message:M,ref:c,...N(xe.pattern,M)},!l))return I(M),v}if(R){if(ne(R)){const m=await R(F,a),M=at(m,k);if(M&&(v[T]={...M,...N(xe.validate,M.message)},!l))return I(M.message),v}else if(Z(R)){let m={};for(const M in R){if(!se(m)&&!l)break;const $=at(await R[M](F,a),k,M);$&&(m={...$,...N(M,$.message)},I($.message),l&&(v[T]=m))}if(!se(m)&&(v[T]={ref:k,...m},!l))return v}}return I(!0),v};const Er={mode:ie.onSubmit,reValidateMode:ie.onChange,shouldFocusError:!0};function Ar(s={}){let t={...Er,...s},a={submitCount:0,isDirty:!1,isReady:!1,isLoading:ne(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const l={};let n=Z(t.defaultValues)||Z(t.values)?X(t.defaultValues||t.values)||{}:{},r=t.shouldUnregister?{}:X(n),c={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},g,h=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let E={...f};const j={array:Zs(),state:Zs()},O=t.criteriaMode===ie.all,R=i=>d=>{clearTimeout(h),h=setTimeout(i,d)},T=async i=>{if(!t.disabled&&(f.isValid||E.isValid||i)){const d=t.resolver?se((await P()).errors):await x(l,!0);d!==a.isValid&&j.state.next({isValid:d})}},V=(i,d)=>{!t.disabled&&(f.isValidating||f.validatingFields||E.isValidating||E.validatingFields)&&((i||Array.from(o.mount)).forEach(u=>{u&&(d?H(a.validatingFields,u,d):Y(a.validatingFields,u))}),j.state.next({validatingFields:a.validatingFields,isValidating:!se(a.validatingFields)}))},U=(i,d=[],u,S,w=!0,p=!0)=>{if(S&&u&&!t.disabled){if(c.action=!0,p&&Array.isArray(D(l,i))){const C=u(D(l,i),S.argA,S.argB);w&&H(l,i,C)}if(p&&Array.isArray(D(a.errors,i))){const C=u(D(a.errors,i),S.argA,S.argB);w&&H(a.errors,i,C),kr(a.errors,i)}if((f.touchedFields||E.touchedFields)&&p&&Array.isArray(D(a.touchedFields,i))){const C=u(D(a.touchedFields,i),S.argA,S.argB);w&&H(a.touchedFields,i,C)}(f.dirtyFields||E.dirtyFields)&&(a.dirtyFields=Ve(n,r)),j.state.next({name:i,isDirty:y(i,d),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else H(r,i,d)},F=(i,d)=>{H(a.errors,i,d),j.state.next({errors:a.errors})},k=i=>{a.errors=i,j.state.next({errors:a.errors,isValid:!1})},I=(i,d,u,S)=>{const w=D(l,i);if(w){const p=D(r,i,G(u)?D(n,i):u);G(p)||S&&S.defaultChecked||d?H(r,i,d?p:Js(w._f)):$(i,p),c.mount&&T()}},v=(i,d,u,S,w)=>{let p=!1,C=!1;const q={name:i};if(!t.disabled){if(!u||S){(f.isDirty||E.isDirty)&&(C=a.isDirty,a.isDirty=q.isDirty=y(),p=C!==q.isDirty);const z=ge(D(n,i),d);C=!!D(a.dirtyFields,i),z?Y(a.dirtyFields,i):H(a.dirtyFields,i,!0),q.dirtyFields=a.dirtyFields,p=p||(f.dirtyFields||E.dirtyFields)&&C!==!z}if(u){const z=D(a.touchedFields,i);z||(H(a.touchedFields,i,u),q.touchedFields=a.touchedFields,p=p||(f.touchedFields||E.touchedFields)&&z!==u)}p&&w&&j.state.next(q)}return p?q:{}},B=(i,d,u,S)=>{const w=D(a.errors,i),p=(f.isValid||E.isValid)&&oe(d)&&a.isValid!==d;if(t.delayError&&u?(g=R(()=>F(i,u)),g(t.delayError)):(clearTimeout(h),g=null,u?H(a.errors,i,u):Y(a.errors,i)),(u?!ge(w,u):w)||!se(S)||p){const C={...S,...p&&oe(d)?{isValid:d}:{},errors:a.errors,name:i};a={...a,...C},j.state.next(C)}},P=async i=>{V(i,!0);const d=await t.resolver(r,t.context,br(i||o.mount,l,t.criteriaMode,t.shouldUseNativeValidation));return V(i),d},K=async i=>{const{errors:d}=await P(i);if(i)for(const u of i){const S=D(d,u);S?H(a.errors,u,S):Y(a.errors,u)}else a.errors=d;return d},x=async(i,d,u={valid:!0})=>{for(const S in i){const w=i[S];if(w){const{_f:p,...C}=w;if(p){const q=o.array.has(p.name),z=w._f&&pr(w._f);z&&f.validatingFields&&V([S],!0);const re=await rt(w,o.disabled,r,O,t.shouldUseNativeValidation&&!d,q);if(z&&f.validatingFields&&V([S]),re[p.name]&&(u.valid=!1,d))break;!d&&(D(re,p.name)?q?Sr(a.errors,re,p.name):H(a.errors,p.name,re[p.name]):Y(a.errors,p.name))}!se(C)&&await x(C,d,u)}}return u.valid},N=()=>{for(const i of o.unMount){const d=D(l,i);d&&(d._f.refs?d._f.refs.every(u=>!xs(u)):!xs(d._f.ref))&&ns(i)}o.unMount=new Set},y=(i,d)=>!t.disabled&&(i&&d&&H(r,i,d),!ge(ze(),n)),m=(i,d,u)=>xr(i,o,{...c.mount?r:G(d)?n:me(i)?{[i]:d}:d},u,d),M=i=>As(D(c.mount?r:n,i,t.shouldUnregister?D(n,i,[]):[])),$=(i,d,u={})=>{const S=D(l,i);let w=d;if(S){const p=S._f;p&&(!p.disabled&&H(r,i,Tt(d,p)),w=es(p.ref)&&Q(d)?"":d,At(p.ref)?[...p.ref.options].forEach(C=>C.selected=w.includes(C.value)):p.refs?Ue(p.ref)?p.refs.forEach(C=>{(!C.defaultChecked||!C.disabled)&&(Array.isArray(w)?C.checked=!!w.find(q=>q===C.value):C.checked=w===C.value||!!w)}):p.refs.forEach(C=>C.checked=C.value===w):Ms(p.ref)?p.ref.value="":(p.ref.value=w,p.ref.type||j.state.next({name:i,values:X(r)})))}(u.shouldDirty||u.shouldTouch)&&v(i,w,u.shouldTouch,u.shouldDirty,!0),u.shouldValidate&&De(i)},A=(i,d,u)=>{for(const S in d){if(!d.hasOwnProperty(S))return;const w=d[S],p=i+"."+S,C=D(l,p);(o.array.has(i)||Z(w)||C&&!C._f)&&!Se(w)?A(p,w,u):$(p,w,u)}},W=(i,d,u={})=>{const S=D(l,i),w=o.array.has(i),p=X(d);H(r,i,p),w?(j.array.next({name:i,values:X(r)}),(f.isDirty||f.dirtyFields||E.isDirty||E.dirtyFields)&&u.shouldDirty&&j.state.next({name:i,dirtyFields:Ve(n,r),isDirty:y(i,p)})):S&&!S._f&&!Q(p)?A(i,p,u):$(i,p,u),st(i,o)&&j.state.next({...a}),j.state.next({name:c.mount?i:void 0,values:X(r)})},ae=async i=>{c.mount=!0;const d=i.target;let u=d.name,S=!0;const w=D(l,u),p=z=>{S=Number.isNaN(z)||Se(z)&&isNaN(z.getTime())||ge(z,D(r,u,z))},C=Qs(t.mode),q=Qs(t.reValidateMode);if(w){let z,re;const He=d.type?Js(w._f):ir(i),fe=i.type===Gs.BLUR||i.type===Gs.FOCUS_OUT,Pt=!jr(w._f)&&!t.resolver&&!D(a.errors,u)&&!w._f.deps||wr(fe,D(a.touchedFields,u),a.isSubmitted,q,C),ds=st(u,o,fe);H(r,u,He),fe?(w._f.onBlur&&w._f.onBlur(i),g&&g(0)):w._f.onChange&&w._f.onChange(i);const ms=v(u,He,fe),$t=!se(ms)||ds;if(!fe&&j.state.next({name:u,type:i.type,values:X(r)}),Pt)return(f.isValid||E.isValid)&&(t.mode==="onBlur"?fe&&T():fe||T()),$t&&j.state.next({name:u,...ds?{}:ms});if(!fe&&ds&&j.state.next({...a}),t.resolver){const{errors:Ls}=await P([u]);if(p(He),S){const qt=tt(a.errors,l,u),Ps=tt(Ls,l,qt.name||u);z=Ps.error,u=Ps.name,re=se(Ls)}}else V([u],!0),z=(await rt(w,o.disabled,r,O,t.shouldUseNativeValidation))[u],V([u]),p(He),S&&(z?re=!1:(f.isValid||E.isValid)&&(re=await x(l,!0)));S&&(w._f.deps&&De(w._f.deps),B(u,re,z,ms))}},Te=(i,d)=>{if(D(a.errors,d)&&i.focus)return i.focus(),1},De=async(i,d={})=>{let u,S;const w=Oe(i);if(t.resolver){const p=await K(G(i)?i:w);u=se(p),S=i?!w.some(C=>D(p,C)):u}else i?(S=(await Promise.all(w.map(async p=>{const C=D(l,p);return await x(C&&C._f?{[p]:C}:C)}))).every(Boolean),!(!S&&!a.isValid)&&T()):S=u=await x(l);return j.state.next({...!me(i)||(f.isValid||E.isValid)&&u!==a.isValid?{}:{name:i},...t.resolver||!i?{isValid:u}:{},errors:a.errors}),d.shouldFocus&&!S&&Be(l,Te,i?w:o.mount),S},ze=i=>{const d={...c.mount?r:n};return G(i)?d:me(i)?D(d,i):i.map(u=>D(d,u))},Ts=(i,d)=>({invalid:!!D((d||a).errors,i),isDirty:!!D((d||a).dirtyFields,i),error:D((d||a).errors,i),isValidating:!!D(a.validatingFields,i),isTouched:!!D((d||a).touchedFields,i)}),Vt=i=>{i&&Oe(i).forEach(d=>Y(a.errors,d)),j.state.next({errors:i?a.errors:{}})},Fs=(i,d,u)=>{const S=(D(l,i,{_f:{}})._f||{}).ref,w=D(a.errors,i)||{},{ref:p,message:C,type:q,...z}=w;H(a.errors,i,{...z,...d,ref:S}),j.state.next({name:i,errors:a.errors,isValid:!1}),u&&u.shouldFocus&&S&&S.focus&&S.focus()},It=(i,d)=>ne(i)?j.state.subscribe({next:u=>i(m(void 0,d),u)}):m(i,d,!0),Vs=i=>j.state.subscribe({next:d=>{Nr(i.name,d.name,i.exact)&&vr(d,i.formState||f,Lt,i.reRenderRoot)&&i.callback({values:{...r},...a,...d})}}).unsubscribe,Rt=i=>(c.mount=!0,E={...E,...i.formState},Vs({...i,formState:E})),ns=(i,d={})=>{for(const u of i?Oe(i):o.mount)o.mount.delete(u),o.array.delete(u),d.keepValue||(Y(l,u),Y(r,u)),!d.keepError&&Y(a.errors,u),!d.keepDirty&&Y(a.dirtyFields,u),!d.keepTouched&&Y(a.touchedFields,u),!d.keepIsValidating&&Y(a.validatingFields,u),!t.shouldUnregister&&!d.keepDefaultValue&&Y(n,u);j.state.next({values:X(r)}),j.state.next({...a,...d.keepDirty?{isDirty:y()}:{}}),!d.keepIsValid&&T()},Is=({disabled:i,name:d})=>{(oe(i)&&c.mount||i||o.disabled.has(d))&&(i?o.disabled.add(d):o.disabled.delete(d))},cs=(i,d={})=>{let u=D(l,i);const S=oe(d.disabled)||oe(t.disabled);return H(l,i,{...u||{},_f:{...u&&u._f?u._f:{ref:{name:i}},name:i,mount:!0,...d}}),o.mount.add(i),u?Is({disabled:oe(d.disabled)?d.disabled:t.disabled,name:i}):I(i,!0,d.value),{...S?{disabled:d.disabled||t.disabled}:{},...t.progressive?{required:!!d.required,min:Ie(d.min),max:Ie(d.max),minLength:Ie(d.minLength),maxLength:Ie(d.maxLength),pattern:Ie(d.pattern)}:{},name:i,onChange:ae,onBlur:ae,ref:w=>{if(w){cs(i,d),u=D(l,i);const p=G(w.value)&&w.querySelectorAll&&w.querySelectorAll("input,select,textarea")[0]||w,C=fr(p),q=u._f.refs||[];if(C?q.find(z=>z===p):p===u._f.ref)return;H(l,i,{_f:{...u._f,...C?{refs:[...q.filter(xs),p,...Array.isArray(D(n,i))?[{}]:[]],ref:{type:p.type,name:i}}:{ref:p}}}),I(i,!1,void 0,p)}else u=D(l,i,{}),u._f&&(u._f.mount=!1),(t.shouldUnregister||d.shouldUnregister)&&!(cr(o.array,i)&&c.action)&&o.unMount.add(i)}}},os=()=>t.shouldFocusError&&Be(l,Te,o.mount),_t=i=>{oe(i)&&(j.state.next({disabled:i}),Be(l,(d,u)=>{const S=D(l,u);S&&(d.disabled=S._f.disabled||i,Array.isArray(S._f.refs)&&S._f.refs.forEach(w=>{w.disabled=S._f.disabled||i}))},0,!1))},Rs=(i,d)=>async u=>{let S;u&&(u.preventDefault&&u.preventDefault(),u.persist&&u.persist());let w=X(r);if(j.state.next({isSubmitting:!0}),t.resolver){const{errors:p,values:C}=await P();a.errors=p,w=X(C)}else await x(l);if(o.disabled.size)for(const p of o.disabled)Y(w,p);if(Y(a.errors,"root"),se(a.errors)){j.state.next({errors:{}});try{await i(w,u)}catch(p){S=p}}else d&&await d({...a.errors},u),os(),setTimeout(os);if(j.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:se(a.errors)&&!S,submitCount:a.submitCount+1,errors:a.errors}),S)throw S},Ot=(i,d={})=>{D(l,i)&&(G(d.defaultValue)?W(i,X(D(n,i))):(W(i,d.defaultValue),H(n,i,X(d.defaultValue))),d.keepTouched||Y(a.touchedFields,i),d.keepDirty||(Y(a.dirtyFields,i),a.isDirty=d.defaultValue?y(i,X(D(n,i))):y()),d.keepError||(Y(a.errors,i),f.isValid&&T()),j.state.next({...a}))},_s=(i,d={})=>{const u=i?X(i):n,S=X(u),w=se(i),p=w?n:S;if(d.keepDefaultValues||(n=u),!d.keepValues){if(d.keepDirtyValues){const C=new Set([...o.mount,...Object.keys(Ve(n,r))]);for(const q of Array.from(C))D(a.dirtyFields,q)?H(p,q,D(r,q)):W(q,D(p,q))}else{if(Es&&G(i))for(const C of o.mount){const q=D(l,C);if(q&&q._f){const z=Array.isArray(q._f.refs)?q._f.refs[0]:q._f.ref;if(es(z)){const re=z.closest("form");if(re){re.reset();break}}}}for(const C of o.mount){const q=D(p,C,D(n,C));G(q)||(H(p,C,q),W(C,D(p,C)))}}r=X(p),j.array.next({values:{...p}}),j.state.next({values:{...p}})}o={mount:d.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},c.mount=!f.isValid||!!d.keepIsValid||!!d.keepDirtyValues,c.watch=!!t.shouldUnregister,j.state.next({submitCount:d.keepSubmitCount?a.submitCount:0,isDirty:w?!1:d.keepDirty?a.isDirty:!!(d.keepDefaultValues&&!ge(i,n)),isSubmitted:d.keepIsSubmitted?a.isSubmitted:!1,dirtyFields:w?{}:d.keepDirtyValues?d.keepDefaultValues&&r?Ve(n,r):a.dirtyFields:d.keepDefaultValues&&i?Ve(n,i):d.keepDirty?a.dirtyFields:{},touchedFields:d.keepTouched?a.touchedFields:{},errors:d.keepErrors?a.errors:{},isSubmitSuccessful:d.keepIsSubmitSuccessful?a.isSubmitSuccessful:!1,isSubmitting:!1})},Os=(i,d)=>_s(ne(i)?i(r):i,d),Bt=(i,d={})=>{const u=D(l,i),S=u&&u._f;if(S){const w=S.refs?S.refs[0]:S.ref;w.focus&&(w.focus(),d.shouldSelect&&ne(w.select)&&w.select())}},Lt=i=>{a={...a,...i}},Bs={control:{register:cs,unregister:ns,getFieldState:Ts,handleSubmit:Rs,setError:Fs,_subscribe:Vs,_runSchema:P,_focusError:os,_getWatch:m,_getDirty:y,_setValid:T,_setFieldArray:U,_setDisabledField:Is,_setErrors:k,_getFieldArray:M,_reset:_s,_resetDefaultValues:()=>ne(t.defaultValues)&&t.defaultValues().then(i=>{Os(i,t.resetOptions),j.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:_t,_subjects:j,_proxyFormState:f,get _fields(){return l},get _formValues(){return r},get _state(){return c},set _state(i){c=i},get _defaultValues(){return n},get _names(){return o},set _names(i){o=i},get _formState(){return a},get _options(){return t},set _options(i){t={...t,...i}}},subscribe:Rt,trigger:De,register:cs,handleSubmit:Rs,watch:It,setValue:W,getValues:ze,reset:Os,resetField:Ot,clearErrors:Vt,unregister:ns,setError:Fs,setFocus:Bt,getFieldState:Ts};return{...Bs,formControl:Bs}}function Ce(s={}){const t=te.useRef(void 0),a=te.useRef(void 0),[l,n]=te.useState({isDirty:!1,isValidating:!1,isLoading:ne(s.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:s.errors||{},disabled:s.disabled||!1,isReady:!1,defaultValues:ne(s.defaultValues)?void 0:s.defaultValues});if(!t.current)if(s.formControl)t.current={...s.formControl,formState:l},s.defaultValues&&!ne(s.defaultValues)&&s.formControl.reset(s.defaultValues,s.resetOptions);else{const{formControl:c,...o}=Ar(s);t.current={...o,formState:l}}const r=t.current.control;return r._options=s,ur(()=>{const c=r._subscribe({formState:r._proxyFormState,callback:()=>n({...r._formState}),reRenderRoot:!0});return n(o=>({...o,isReady:!0})),r._formState.isReady=!0,c},[r]),te.useEffect(()=>r._disableForm(s.disabled),[r,s.disabled]),te.useEffect(()=>{s.mode&&(r._options.mode=s.mode),s.reValidateMode&&(r._options.reValidateMode=s.reValidateMode)},[r,s.mode,s.reValidateMode]),te.useEffect(()=>{s.errors&&(r._setErrors(s.errors),r._focusError())},[r,s.errors]),te.useEffect(()=>{s.shouldUnregister&&r._subjects.state.next({values:r._getWatch()})},[r,s.shouldUnregister]),te.useEffect(()=>{if(r._proxyFormState.isDirty){const c=r._getDirty();c!==l.isDirty&&r._subjects.state.next({isDirty:c})}},[r,l.isDirty]),te.useEffect(()=>{s.values&&!ge(s.values,a.current)?(r._reset(s.values,r._options.resetOptions),a.current=s.values,n(c=>({...c}))):r._resetDefaultValues()},[r,s.values]),te.useEffect(()=>{r._state.mount||(r._setValid(),r._state.mount=!0),r._state.watch&&(r._state.watch=!1,r._subjects.state.next({...r._formState})),r._removeUnmounted()}),t.current.formState=mr(l,r),t.current}const Dr=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[n,r]=b.useState(!1),[c,o]=b.useState(!1),[g,h]=b.useState(!1),[f,E]=b.useState(null),[j,O]=b.useState(""),[R,T]=b.useState(""),{register:V,handleSubmit:U,reset:F,setValue:k,formState:{errors:I}}=Ce();b.useEffect(()=>{v()},[]);const v=async()=>{try{l(!0);const A=await ke.getAll();t(A.data)}catch(A){console.error("Error fetching books:",A)}finally{l(!1)}},B=async A=>{try{await ke.create(A),ee.success("Book added successfully!"),r(!1),F(),v()}catch(W){console.error("Error adding book:",W)}},P=async A=>{try{await ke.update(f.id,A),ee.success("Book updated successfully!"),o(!1),E(null),F(),v()}catch(W){console.error("Error updating book:",W)}},K=async()=>{try{await ke.delete(f.id),ee.success("Book deleted successfully!"),E(null),v()}catch(A){console.error("Error deleting book:",A)}},x=A=>{E(A),k("title",A.title),k("author",A.author),k("genre",A.genre),k("isbn",A.isbn),k("yearPublished",A.yearPublished),k("totalCopies",A.totalCopies),k("availableCopies",A.availableCopies),o(!0)},N=A=>{E(A),h(!0)},y=s.filter(A=>{const W=A.title.toLowerCase().includes(j.toLowerCase())||A.author.toLowerCase().includes(j.toLowerCase())||A.isbn.toLowerCase().includes(j.toLowerCase()),ae=!R||A.genre===R;return W&&ae}),m=[...new Set(s.map(A=>A.genre))].filter(Boolean),M=[{key:"title",header:"Title",accessor:"title",render:A=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:A.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ISBN: ",A.isbn]})]})},{key:"author",header:"Author",accessor:"author"},{key:"genre",header:"Genre",accessor:"genre",render:A=>e.jsx("span",{className:"badge badge-info",children:A.genre})},{key:"year",header:"Year",accessor:"yearPublished"},{key:"copies",header:"Copies",accessor:"totalCopies",render:A=>e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"text-sm font-medium",children:[A.availableCopies,"/",A.totalCopies]}),e.jsx("div",{className:"text-xs text-gray-500",children:"Available/Total"})]})},{key:"actions",header:"Actions",sortable:!1,render:A=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>x(A),className:"p-1 text-blue-600 hover:text-blue-800",children:e.jsx(vt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>N(A),className:"p-1 text-red-600 hover:text-red-800",children:e.jsx(Nt,{className:"h-4 w-4"})})]})}],$=({onSubmit:A,defaultValues:W={}})=>e.jsxs("form",{onSubmit:U(A),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title *"}),e.jsx("input",{...V("title",{required:"Title is required"}),className:"input-field",placeholder:"Enter book title"}),I.title&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.title.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Author *"}),e.jsx("input",{...V("author",{required:"Author is required"}),className:"input-field",placeholder:"Enter author name"}),I.author&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.author.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genre"}),e.jsx("input",{...V("genre"),className:"input-field",placeholder:"Enter genre"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN"}),e.jsx("input",{...V("isbn"),className:"input-field",placeholder:"Enter ISBN"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year Published"}),e.jsx("input",{type:"number",...V("yearPublished",{min:{value:1e3,message:"Invalid year"},max:{value:new Date().getFullYear(),message:"Year cannot be in the future"}}),className:"input-field",placeholder:"Enter year"}),I.yearPublished&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.yearPublished.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Total Copies *"}),e.jsx("input",{type:"number",...V("totalCopies",{required:"Total copies is required",min:{value:1,message:"Must be at least 1"}}),className:"input-field",placeholder:"Enter total copies"}),I.totalCopies&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.totalCopies.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Available Copies *"}),e.jsx("input",{type:"number",...V("availableCopies",{required:"Available copies is required",min:{value:0,message:"Cannot be negative"}}),className:"input-field",placeholder:"Enter available copies"}),I.availableCopies&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:I.availableCopies.message})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{r(!1),o(!1),F()},className:"btn btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:f?"Update Book":"Add Book"})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Books"}),e.jsx("p",{className:"text-gray-600",children:"Manage your library's book collection"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary mt-4 sm:mt-0",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Add Book"]})]}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ks,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search books by title, author, or ISBN...",value:j,onChange:A=>O(A.target.value),className:"input-field pl-10"})]})}),e.jsx("div",{className:"sm:w-48",children:e.jsxs("select",{value:R,onChange:A=>T(A.target.value),className:"input-field",children:[e.jsx("option",{value:"",children:"All Genres"}),m.map(A=>e.jsx("option",{value:A,children:A},A))]})})]})}),e.jsx("div",{className:"card",children:e.jsx(qe,{data:y,columns:M,loading:a,searchable:!1,emptyMessage:"No books found"})}),e.jsx(pe,{isOpen:n,onClose:()=>{r(!1),F()},title:"Add New Book",size:"lg",children:e.jsx($,{onSubmit:B})}),e.jsx(pe,{isOpen:c,onClose:()=>{o(!1),E(null),F()},title:"Edit Book",size:"lg",children:e.jsx($,{onSubmit:P})}),e.jsx(St,{isOpen:g,onClose:()=>{h(!1),E(null)},onConfirm:K,title:"Delete Book",message:`Are you sure you want to delete "${f==null?void 0:f.title}"? This action cannot be undone.`,confirmText:"Delete",type:"danger"})]})},Mr=()=>{const[s,t]=b.useState([]),[a,l]=b.useState(!0),[n,r]=b.useState(!1),[c,o]=b.useState(!1),[g,h]=b.useState(!1),[f,E]=b.useState(null),{register:j,handleSubmit:O,reset:R,setValue:T,formState:{errors:V}}=Ce();b.useEffect(()=>{U()},[]);const U=async()=>{try{l(!0);const N=await de.getAll();t(N.data)}catch(N){console.error("Error fetching members:",N)}finally{l(!1)}},F=async N=>{try{await de.create(N),ee.success("Member added successfully!"),r(!1),R(),U()}catch(y){console.error("Error adding member:",y)}},k=async N=>{try{await de.update(f.id,N),ee.success("Member updated successfully!"),o(!1),E(null),R(),U()}catch(y){console.error("Error updating member:",y)}},I=async()=>{try{await de.delete(f.id),ee.success("Member deleted successfully!"),E(null),U()}catch(N){console.error("Error deleting member:",N)}},v=async(N,y)=>{try{await de.updateStatus(N.id,y),ee.success(`Member status updated to ${y}`),U()}catch(m){console.error("Error updating member status:",m)}},B=N=>{E(N),T("name",N.name),T("email",N.email),T("phone",N.phone),T("address",N.address),T("membershipStatus",N.membershipStatus),o(!0)},P=N=>{E(N),h(!0)},K=[{key:"member",header:"Member",accessor:"name",render:N=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-medium text-sm",children:N.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:N.name}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Je,{className:"h-3 w-3 mr-1"}),N.email]})]})]})},{key:"contact",header:"Contact",sortable:!1,render:N=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[e.jsx(Xa,{className:"h-3 w-3 mr-1 text-gray-400"}),N.phone||"N/A"]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Ya,{className:"h-3 w-3 mr-1 text-gray-400"}),N.address||"N/A"]})]})},{key:"status",header:"Status",accessor:"membershipStatus",render:N=>e.jsxs("select",{value:N.membershipStatus,onChange:y=>v(N,y.target.value),className:`text-xs font-medium px-2 py-1 rounded-full border-0 ${N.membershipStatus==="ACTIVE"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"}),e.jsx("option",{value:"SUSPENDED",children:"Suspended"})]})},{key:"actions",header:"Actions",sortable:!1,render:N=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>B(N),className:"p-1 text-blue-600 hover:text-blue-800",children:e.jsx(vt,{className:"h-4 w-4"})}),e.jsx("button",{onClick:()=>P(N),className:"p-1 text-red-600 hover:text-red-800",children:e.jsx(Nt,{className:"h-4 w-4"})})]})}],x=({onSubmit:N})=>e.jsxs("form",{onSubmit:O(N),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name *"}),e.jsx("input",{...j("name",{required:"Name is required"}),className:"input-field",placeholder:"Enter full name"}),V.name&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:V.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),e.jsx("input",{type:"email",...j("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),className:"input-field",placeholder:"Enter email address"}),V.email&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:V.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),e.jsx("input",{type:"tel",...j("phone"),className:"input-field",placeholder:"Enter phone number"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("textarea",{...j("address"),className:"input-field",rows:"3",placeholder:"Enter address"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Membership Status"}),e.jsxs("select",{...j("membershipStatus"),className:"input-field",children:[e.jsx("option",{value:"ACTIVE",children:"Active"}),e.jsx("option",{value:"INACTIVE",children:"Inactive"}),e.jsx("option",{value:"SUSPENDED",children:"Suspended"})]})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{r(!1),o(!1),R()},className:"btn btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:f?"Update Member":"Add Member"})]})]});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Members"}),e.jsx("p",{className:"text-gray-600",children:"Manage library members and their information"})]}),e.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary mt-4 sm:mt-0",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Add Member"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx("div",{className:"w-6 h-6 bg-green-500 rounded-full"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(N=>N.membershipStatus==="ACTIVE").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx("div",{className:"w-6 h-6 bg-yellow-500 rounded-full"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Inactive Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(N=>N.membershipStatus==="INACTIVE").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx("div",{className:"w-6 h-6 bg-red-500 rounded-full"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Suspended Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(N=>N.membershipStatus==="SUSPENDED").length})]})]})})]}),e.jsx("div",{className:"card",children:e.jsx(qe,{data:s,columns:K,loading:a,emptyMessage:"No members found"})}),e.jsx(pe,{isOpen:n,onClose:()=>{r(!1),R()},title:"Add New Member",size:"lg",children:e.jsx(x,{onSubmit:F})}),e.jsx(pe,{isOpen:c,onClose:()=>{o(!1),E(null),R()},title:"Edit Member",size:"lg",children:e.jsx(x,{onSubmit:k})}),e.jsx(St,{isOpen:g,onClose:()=>{h(!1),E(null)},onConfirm:I,title:"Delete Member",message:`Are you sure you want to delete "${f==null?void 0:f.name}"? This action cannot be undone.`,confirmText:"Delete",type:"danger"})]})},Cr=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[n,r]=b.useState([]),[c,o]=b.useState(!0),[g,h]=b.useState(!1),[f,E]=b.useState("all"),{register:j,handleSubmit:O,reset:R,formState:{errors:T}}=Ce();b.useEffect(()=>{V()},[]);const V=async()=>{try{o(!0);const[x,N,y]=await Promise.all([Ee.getAll(),ke.getAll(),de.getAll()]);t(x.data),l(N.data),r(y.data)}catch(x){console.error("Error fetching data:",x)}finally{o(!1)}},U=async x=>{try{const N={memberId:parseInt(x.memberId),bookId:parseInt(x.bookId),borrowDate:x.borrowDate,dueDate:x.dueDate};await Ee.borrow(N),ee.success("Book borrowed successfully!"),h(!1),R(),V()}catch(N){console.error("Error borrowing book:",N)}},F=async x=>{try{await Ee.return(x),ee.success("Book returned successfully!"),V()}catch(N){console.error("Error returning book:",N)}},k=x=>{const N=a.find(y=>y.id===x);return N?N.title:`Book ID: ${x}`},I=x=>{const N=n.find(y=>y.id===x);return N?N.name:`Member ID: ${x}`},v=x=>x.status==="RETURNED"?e.jsx("span",{className:"badge badge-success",children:"Returned"}):Fe(new Date,ce(x.dueDate))?e.jsx("span",{className:"badge badge-danger",children:"Overdue"}):e.jsx("span",{className:"badge badge-warning",children:"Borrowed"}),B=s.filter(x=>{switch(f){case"borrowed":return x.status==="BORROWED";case"returned":return x.status==="RETURNED";case"overdue":return x.status==="BORROWED"&&Fe(new Date,ce(x.dueDate));default:return!0}}),P=[{key:"book",header:"Book",accessor:"bookId",render:x=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:k(x.bookId)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",x.bookId]})]})},{key:"member",header:"Member",accessor:"memberId",render:x=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:I(x.memberId)}),e.jsxs("div",{className:"text-sm text-gray-500",children:["ID: ",x.memberId]})]})},{key:"borrowDate",header:"Borrow Date",accessor:"borrowDate",render:x=>be(ce(x.borrowDate),"MMM d, yyyy")},{key:"dueDate",header:"Due Date",accessor:"dueDate",render:x=>{const N=ce(x.dueDate),y=x.status==="BORROWED"&&Fe(new Date,N);return e.jsx("div",{className:y?"text-red-600 font-medium":"",children:be(N,"MMM d, yyyy")})}},{key:"returnDate",header:"Return Date",accessor:"returnDate",render:x=>x.returnDate?be(ce(x.returnDate),"MMM d, yyyy"):"-"},{key:"status",header:"Status",accessor:"status",render:x=>v(x)},{key:"actions",header:"Actions",sortable:!1,render:x=>e.jsx("div",{children:x.status==="BORROWED"&&e.jsxs("button",{onClick:()=>F(x.id),className:"btn btn-secondary text-xs px-3 py-1",children:[e.jsx(gs,{className:"h-3 w-3 mr-1"}),"Return"]})})}],K=[{key:"all",label:"All Transactions",count:s.length},{key:"borrowed",label:"Borrowed",count:s.filter(x=>x.status==="BORROWED").length},{key:"returned",label:"Returned",count:s.filter(x=>x.status==="RETURNED").length},{key:"overdue",label:"Overdue",count:s.filter(x=>x.status==="BORROWED"&&Fe(new Date,ce(x.dueDate))).length}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Transactions"}),e.jsx("p",{className:"text-gray-600",children:"Manage book borrowing and returns"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary mt-4 sm:mt-0",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Borrow Book"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(gs,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Transactions"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Ns,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Currently Borrowed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(x=>x.status==="BORROWED").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ps,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Returned"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(x=>x.status==="RETURNED").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Pe,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(x=>x.status==="BORROWED"&&Fe(new Date,ce(x.dueDate))).length})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:K.map(x=>e.jsxs("button",{onClick:()=>E(x.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===x.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[x.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:x.count})]},x.key))})}),e.jsx("div",{className:"mt-6",children:e.jsx(qe,{data:B,columns:P,loading:c,searchable:!1,emptyMessage:"No transactions found"})})]}),e.jsx(pe,{isOpen:g,onClose:()=>{h(!1),R()},title:"Borrow Book",size:"md",children:e.jsxs("form",{onSubmit:O(U),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Member *"}),e.jsxs("select",{...j("memberId",{required:"Member is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Choose a member"}),n.filter(x=>x.membershipStatus==="ACTIVE").map(x=>e.jsxs("option",{value:x.id,children:[x.name," (",x.email,")"]},x.id))]}),T.memberId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.memberId.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Book *"}),e.jsxs("select",{...j("bookId",{required:"Book is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Choose a book"}),a.filter(x=>x.availableCopies>0).map(x=>e.jsxs("option",{value:x.id,children:[x.title," by ",x.author," (Available: ",x.availableCopies,")"]},x.id))]}),T.bookId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.bookId.message})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Borrow Date *"}),e.jsx("input",{type:"date",...j("borrowDate",{required:"Borrow date is required"}),defaultValue:new Date().toISOString().split("T")[0],className:"input-field"}),T.borrowDate&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.borrowDate.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date *"}),e.jsx("input",{type:"date",...j("dueDate",{required:"Due date is required"}),defaultValue:new Date(Date.now()+14*24*60*60*1e3).toISOString().split("T")[0],className:"input-field"}),T.dueDate&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.dueDate.message})]})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),R()},className:"btn btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Borrow Book"})]})]})})]})},Tr=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[n,r]=b.useState([]),[c,o]=b.useState(!0),[g,h]=b.useState(!1),[f,E]=b.useState("all"),{register:j,handleSubmit:O,reset:R,formState:{errors:T}}=Ce();b.useEffect(()=>{V()},[]);const V=async()=>{try{o(!0);const[m,M,$]=await Promise.all([_e.getAll(),de.getAll(),Ee.getAll()]);t(m.data),l(M.data),r($.data)}catch(m){console.error("Error fetching data:",m)}finally{o(!1)}},U=async m=>{try{const M={memberId:parseInt(m.memberId),transactionId:m.transactionId?parseInt(m.transactionId):null,amount:parseFloat(m.amount),status:"PENDING"};await _e.create(M),ee.success("Fine added successfully!"),h(!1),R(),V()}catch(M){console.error("Error adding fine:",M)}},F=async m=>{try{await _e.pay(m),ee.success("Fine paid successfully!"),V()}catch(M){console.error("Error paying fine:",M)}},k=m=>{const M=a.find($=>$.id===m);return M?M.name:`Member ID: ${m}`},I=m=>{const M=a.find($=>$.id===m);return M?M.email:""},v=m=>m?n.find($=>$.id===m):null,B=s.filter(m=>{switch(f){case"pending":return m.status==="PENDING";case"paid":return m.status==="PAID";default:return!0}}),P=s.reduce((m,M)=>m+M.amount,0),K=s.filter(m=>m.status==="PENDING").reduce((m,M)=>m+M.amount,0),x=s.filter(m=>m.status==="PAID").reduce((m,M)=>m+M.amount,0),N=[{key:"member",header:"Member",accessor:"memberId",render:m=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:k(m.memberId)}),e.jsx("div",{className:"text-sm text-gray-500",children:I(m.memberId)})]})},{key:"amount",header:"Amount",accessor:"amount",render:m=>e.jsxs("div",{className:"font-medium text-gray-900",children:["$",m.amount.toFixed(2)]})},{key:"transaction",header:"Related Transaction",sortable:!1,render:m=>{const M=v(m.transactionId);return M?e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{children:["Transaction #",M.id]}),e.jsxs("div",{className:"text-gray-500",children:["Book ID: ",M.bookId]})]}):e.jsx("span",{className:"text-gray-500",children:"Manual Fine"})}},{key:"issuedDate",header:"Issued Date",accessor:"issuedDate",render:m=>be(ce(m.issuedDate),"MMM d, yyyy")},{key:"paidDate",header:"Paid Date",accessor:"paidDate",render:m=>m.paidDate?be(ce(m.paidDate),"MMM d, yyyy"):"-"},{key:"status",header:"Status",accessor:"status",render:m=>e.jsx("span",{className:`badge ${m.status==="PAID"?"badge-success":"badge-warning"}`,children:m.status})},{key:"actions",header:"Actions",sortable:!1,render:m=>e.jsx("div",{children:m.status==="PENDING"&&e.jsxs("button",{onClick:()=>F(m.id),className:"btn btn-secondary text-xs px-3 py-1",children:[e.jsx(ps,{className:"h-3 w-3 mr-1"}),"Mark Paid"]})})}],y=[{key:"all",label:"All Fines",count:s.length},{key:"pending",label:"Pending",count:s.filter(m=>m.status==="PENDING").length},{key:"paid",label:"Paid",count:s.filter(m=>m.status==="PAID").length}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Fines"}),e.jsx("p",{className:"text-gray-600",children:"Manage library fines and payments"})]}),e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary mt-4 sm:mt-0",children:[e.jsx(ls,{className:"h-4 w-4 mr-2"}),"Add Fine"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ws,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Fines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",P.toFixed(2)]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Ns,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending Fines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",K.toFixed(2)]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(ps,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Paid Fines"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",x.toFixed(2)]})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Pe,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue Count"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.filter(m=>m.status==="PENDING").length})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:y.map(m=>e.jsxs("button",{onClick:()=>E(m.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===m.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[m.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:m.count})]},m.key))})}),e.jsx("div",{className:"mt-6",children:e.jsx(qe,{data:B,columns:N,loading:c,emptyMessage:"No fines found"})})]}),e.jsx(pe,{isOpen:g,onClose:()=>{h(!1),R()},title:"Add Fine",size:"md",children:e.jsxs("form",{onSubmit:O(U),className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Member *"}),e.jsxs("select",{...j("memberId",{required:"Member is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Choose a member"}),a.map(m=>e.jsxs("option",{value:m.id,children:[m.name," (",m.email,")"]},m.id))]}),T.memberId&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.memberId.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Related Transaction (Optional)"}),e.jsxs("select",{...j("transactionId"),className:"input-field",children:[e.jsx("option",{value:"",children:"No related transaction"}),n.filter(m=>m.status==="BORROWED").map(m=>e.jsxs("option",{value:m.id,children:["Transaction #",m.id," - Book ID: ",m.bookId]},m.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fine Amount *"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"$"}),e.jsx("input",{type:"number",step:"0.01",min:"0",...j("amount",{required:"Amount is required",min:{value:.01,message:"Amount must be greater than 0"}}),className:"input-field pl-8",placeholder:"0.00"})]}),T.amount&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:T.amount.message})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),R()},className:"btn btn-outline",children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn btn-primary",children:"Add Fine"})]})]})})]})},Fr=()=>{const[s,t]=b.useState([]),[a,l]=b.useState([]),[n,r]=b.useState(null),[c,o]=b.useState(!0),[g,h]=b.useState(!1),[f,E]=b.useState("all"),{register:j,handleSubmit:O,reset:R,watch:T,formState:{errors:V}}=Ce(),U=T("type");b.useEffect(()=>{F()},[]);const F=async()=>{try{o(!0);const[y,m,M]=await Promise.all([ve.getAll(),de.getAll(),ve.getStats()]);t(y.data),l(m.data),r(M.data)}catch(y){console.error("Error fetching data:",y)}finally{o(!1)}},k=async y=>{try{let m={memberId:y.recipient==="all"?null:parseInt(y.memberId),message:y.message,type:y.type,subject:y.subject||I(y.type)};switch(y.type){case"DUE_REMINDER":await ve.createDueReminder(m);break;case"OVERDUE_ALERT":await ve.createOverdueAlert(m);break;case"FINE_NOTICE":await ve.createFineNotice(m);break;default:await ve.create(m)}ee.success("Notification sent successfully!"),h(!1),R(),F()}catch(m){console.error("Error sending notification:",m)}},I=y=>{switch(y){case"DUE_REMINDER":return"Book Due Reminder";case"OVERDUE_ALERT":return"Overdue Book Alert";case"FINE_NOTICE":return"Fine Notice";case"WELCOME":return"Welcome to the Library";default:return"Library Notification"}},v=y=>{if(!y)return"All Members";const m=a.find(M=>M.id===y);return m?m.name:`Member ID: ${y}`},B=y=>{if(!y)return"";const m=a.find(M=>M.id===y);return m?m.email:""},P=y=>{switch(y){case"DUE_REMINDER":return e.jsx(we,{className:"h-4 w-4 text-yellow-600"});case"OVERDUE_ALERT":return e.jsx(we,{className:"h-4 w-4 text-red-600"});case"FINE_NOTICE":return e.jsx(Je,{className:"h-4 w-4 text-orange-600"});case"WELCOME":return e.jsx(Hs,{className:"h-4 w-4 text-green-600"});default:return e.jsx(we,{className:"h-4 w-4 text-blue-600"})}},K=s.filter(y=>{switch(f){case"sent":return y.status==="SENT";case"pending":return y.status==="PENDING";case"failed":return y.status==="FAILED";default:return!0}}),x=[{key:"recipient",header:"Recipient",accessor:"memberId",render:y=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:v(y.memberId)}),e.jsx("div",{className:"text-sm text-gray-500",children:B(y.memberId)})]})},{key:"type",header:"Type",accessor:"type",render:y=>e.jsxs("div",{className:"flex items-center space-x-2",children:[P(y.type),e.jsx("span",{className:"text-sm",children:y.type.replace("_"," ")})]})},{key:"subject",header:"Subject",accessor:"subject",render:y=>e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:y.subject}),e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",children:y.message})]})},{key:"status",header:"Status",accessor:"status",render:y=>e.jsx("span",{className:`badge ${y.status==="SENT"?"badge-success":y.status==="PENDING"?"badge-warning":"badge-danger"}`,children:y.status})},{key:"createdAt",header:"Created",accessor:"createdAt",render:y=>be(ce(y.createdAt),"MMM d, yyyy HH:mm")}],N=[{key:"all",label:"All Notifications",count:s.length},{key:"sent",label:"Sent",count:s.filter(y=>y.status==="SENT").length},{key:"pending",label:"Pending",count:s.filter(y=>y.status==="PENDING").length},{key:"failed",label:"Failed",count:s.filter(y=>y.status==="FAILED").length}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),e.jsx("p",{className:"text-gray-600",children:"Send and manage library notifications"})]}),e.jsxs("div",{className:"flex space-x-3 mt-4 sm:mt-0",children:[e.jsxs("button",{className:"btn btn-outline",children:[e.jsx(Qe,{className:"h-4 w-4 mr-2"}),"Settings"]}),e.jsxs("button",{onClick:()=>h(!0),className:"btn btn-primary",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Send Notification"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(we,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Sent"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.totalSent)||s.filter(y=>y.status==="SENT").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(Je,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.totalPending)||s.filter(y=>y.status==="PENDING").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-red-100 rounded-lg",children:e.jsx(Hs,{className:"h-6 w-6 text-red-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Failed"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.totalFailed)||s.filter(y=>y.status==="FAILED").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Qe,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Month"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(n==null?void 0:n.thisMonth)||0})]})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"-mb-px flex space-x-8",children:N.map(y=>e.jsxs("button",{onClick:()=>E(y.key),className:`py-2 px-1 border-b-2 font-medium text-sm ${f===y.key?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[y.label,e.jsx("span",{className:"ml-2 bg-gray-100 text-gray-900 py-0.5 px-2.5 rounded-full text-xs",children:y.count})]},y.key))})}),e.jsx("div",{className:"mt-6",children:e.jsx(qe,{data:K,columns:x,loading:c,emptyMessage:"No notifications found"})})]}),e.jsx(pe,{isOpen:g,onClose:()=>{h(!1),R()},title:"Send Notification",size:"lg",children:e.jsxs("form",{onSubmit:O(k),className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notification Type *"}),e.jsxs("select",{...j("type",{required:"Type is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select type"}),e.jsx("option",{value:"DUE_REMINDER",children:"Due Reminder"}),e.jsx("option",{value:"OVERDUE_ALERT",children:"Overdue Alert"}),e.jsx("option",{value:"FINE_NOTICE",children:"Fine Notice"}),e.jsx("option",{value:"WELCOME",children:"Welcome Message"}),e.jsx("option",{value:"GENERAL",children:"General Announcement"})]}),V.type&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:V.type.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Recipient *"}),e.jsxs("select",{...j("recipient",{required:"Recipient is required"}),className:"input-field",children:[e.jsx("option",{value:"",children:"Select recipient"}),e.jsx("option",{value:"all",children:"All Members"}),a.filter(y=>y.membershipStatus==="ACTIVE").map(y=>e.jsxs("option",{value:y.id,children:[y.name," (",y.email,")"]},y.id))]}),V.recipient&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:V.recipient.message})]})]}),T("recipient")!=="all"&&e.jsx("input",{type:"hidden",...j("memberId"),value:T("recipient")}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Subject"}),e.jsx("input",{...j("subject"),className:"input-field",placeholder:U?I(U):"Enter subject"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message *"}),e.jsx("textarea",{...j("message",{required:"Message is required"}),className:"input-field",rows:"4",placeholder:"Enter your message here..."}),V.message&&e.jsx("p",{className:"text-red-500 text-xs mt-1",children:V.message.message})]}),e.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[e.jsx("button",{type:"button",onClick:()=>{h(!1),R()},className:"btn btn-outline",children:"Cancel"}),e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[e.jsx(Ws,{className:"h-4 w-4 mr-2"}),"Send Notification"]})]})]})})]})},Vr="modulepreload",Ir=function(s){return"/"+s},lt={},Rr=function(t,a,l){if(!a||a.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(a.map(r=>{if(r=Ir(r),r in lt)return;lt[r]=!0;const c=r.endsWith(".css"),o=c?'[rel="stylesheet"]':"";if(!!l)for(let f=n.length-1;f>=0;f--){const E=n[f];if(E.href===r&&(!c||E.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${o}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":Vr,c||(h.as="script",h.crossOrigin=""),h.href=r,document.head.appendChild(h),c)return new Promise((f,E)=>{h.addEventListener("load",f),h.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r})},_r=()=>{var h,f,E,j,O,R,T,V,U,F;const[s,t]=b.useState(null),[a,l]=b.useState(!0),[n,r]=b.useState("30days");b.useEffect(()=>{c()},[n]);const c=async()=>{try{l(!0);const[k,I,v,B,P]=await Promise.all([ke.getAll(),de.getAll(),Ee.getAll(),_e.getAll(),kt.getStats()]),K={books:k.data,members:I.data,transactions:v.data,fines:B.data,stats:P,summary:{totalBooks:k.data.length,totalMembers:I.data.length,totalTransactions:v.data.length,totalFines:B.data.reduce((x,N)=>x+N.amount,0),activeLoans:v.data.filter(x=>x.status==="BORROWED").length,overdueBooks:v.data.filter(x=>x.status==="BORROWED"&&new Date(x.dueDate)<new Date).length}};t(K)}catch(k){console.error("Error fetching report data:",k)}finally{l(!1)}},o=k=>{console.log(`Generating ${k} report...`),Rr(()=>Promise.resolve().then(()=>La),void 0).then(({default:I})=>{I.success(`${k} report generated successfully!`)})};if(a)return e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx(Ss,{size:"xl"})});const g=[{title:"Books Report",description:"Complete inventory and circulation statistics",icon:Ze,color:"from-blue-500 to-blue-600",stats:[{label:"Total Books",value:(s==null?void 0:s.summary.totalBooks)||0},{label:"Available",value:((h=s==null?void 0:s.books)==null?void 0:h.reduce((k,I)=>k+I.availableCopies,0))||0},{label:"Borrowed",value:(s==null?void 0:s.summary.activeLoans)||0}]},{title:"Members Report",description:"Member registration and activity analysis",icon:Ke,color:"from-green-500 to-green-600",stats:[{label:"Total Members",value:(s==null?void 0:s.summary.totalMembers)||0},{label:"Active",value:((f=s==null?void 0:s.members)==null?void 0:f.filter(k=>k.membershipStatus==="ACTIVE").length)||0},{label:"Inactive",value:((E=s==null?void 0:s.members)==null?void 0:E.filter(k=>k.membershipStatus==="INACTIVE").length)||0}]},{title:"Transactions Report",description:"Borrowing patterns and circulation trends",icon:us,color:"from-purple-500 to-purple-600",stats:[{label:"Total Transactions",value:(s==null?void 0:s.summary.totalTransactions)||0},{label:"Active Loans",value:(s==null?void 0:s.summary.activeLoans)||0},{label:"Overdue",value:(s==null?void 0:s.summary.overdueBooks)||0}]},{title:"Financial Report",description:"Fines collection and revenue analysis",icon:Ke,color:"from-yellow-500 to-yellow-600",stats:[{label:"Total Fines",value:`$${((j=s==null?void 0:s.summary.totalFines)==null?void 0:j.toFixed(2))||"0.00"}`},{label:"Pending",value:((O=s==null?void 0:s.fines)==null?void 0:O.filter(k=>k.status==="PENDING").length)||0},{label:"Paid",value:((R=s==null?void 0:s.fines)==null?void 0:R.filter(k=>k.status==="PAID").length)||0}]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),e.jsx("p",{className:"text-gray-600",children:"Generate comprehensive reports and view analytics"})]}),e.jsxs("div",{className:"flex items-center space-x-3 mt-4 sm:mt-0",children:[e.jsxs("select",{value:n,onChange:k=>r(k.target.value),className:"input-field",children:[e.jsx("option",{value:"7days",children:"Last 7 days"}),e.jsx("option",{value:"30days",children:"Last 30 days"}),e.jsx("option",{value:"3months",children:"Last 3 months"}),e.jsx("option",{value:"1year",children:"Last year"})]}),e.jsxs("button",{className:"btn btn-primary",children:[e.jsx(zs,{className:"h-4 w-4 mr-2"}),"Export All"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(Ze,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Books"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s==null?void 0:s.summary.totalBooks})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ke,{className:"h-6 w-6 text-green-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Members"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(T=s==null?void 0:s.members)==null?void 0:T.filter(k=>k.membershipStatus==="ACTIVE").length})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-purple-100 rounded-lg",children:e.jsx(us,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active Loans"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s==null?void 0:s.summary.activeLoans})]})]})}),e.jsx("div",{className:"card",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(jt,{className:"h-6 w-6 text-yellow-600"})}),e.jsxs("div",{className:"ml-4",children:[e.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",(V=s==null?void 0:s.summary.totalFines)==null?void 0:V.toFixed(2)]})]})]})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:g.map((k,I)=>e.jsxs("div",{className:`stat-card bg-gradient-to-br ${k.color}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-white mb-2",children:k.title}),e.jsx("p",{className:"text-white/80 text-sm",children:k.description})]}),e.jsx("div",{className:"bg-white/20 p-2 rounded-lg",children:e.jsx(k.icon,{className:"h-6 w-6 text-white"})})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4 mb-4",children:k.stats.map((v,B)=>e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:v.value}),e.jsx("div",{className:"text-white/80 text-xs",children:v.label})]},B))}),e.jsxs("button",{onClick:()=>o(k.title),className:"w-full bg-white/20 hover:bg-white/30 text-white py-2 px-4 rounded-lg transition-colors",children:[e.jsx(zs,{className:"h-4 w-4 mr-2 inline"}),"Generate Report"]})]},I))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Most Borrowed Books"}),e.jsx("div",{className:"space-y-3",children:(U=s==null?void 0:s.books)==null?void 0:U.slice(0,5).map((k,I)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.title}),e.jsxs("div",{className:"text-sm text-gray-500",children:["by ",k.author]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.totalCopies-k.availableCopies}),e.jsx("div",{className:"text-xs text-gray-500",children:"times borrowed"})]})]},k.id))})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Most Active Members"}),e.jsx("div",{className:"space-y-3",children:(F=s==null?void 0:s.members)==null?void 0:F.filter(k=>k.membershipStatus==="ACTIVE").slice(0,5).map((k,I)=>{var v;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-primary-600 font-medium text-sm",children:k.name.charAt(0).toUpperCase()})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:k.name}),e.jsx("div",{className:"text-sm text-gray-500",children:k.email})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"font-medium text-gray-900",children:(v=s==null?void 0:s.transactions)==null?void 0:v.filter(B=>B.memberId===k.id).length}),e.jsx("div",{className:"text-xs text-gray-500",children:"transactions"})]})]},k.id)})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Transactions"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Chart visualization coming soon"})]})})]}),e.jsxs("div",{className:"card",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Genre Distribution"}),e.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(us,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-500",children:"Chart visualization coming soon"})]})})]})]})]})},Or=()=>{const[s,t]=b.useState("general"),{register:a,handleSubmit:l,formState:{errors:n}}=Ce(),r=g=>{console.log("Settings saved:",g),ee.success("Settings saved successfully!")},c=[{key:"general",label:"General",icon:Ha},{key:"notifications",label:"Notifications",icon:we},{key:"email",label:"Email",icon:Je},{key:"database",label:"Database",icon:za},{key:"security",label:"Security",icon:Qa}],o=()=>{switch(s){case"general":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Library Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Library Name"}),e.jsx("input",{...a("libraryName"),defaultValue:"Central Library",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Email"}),e.jsx("input",{type:"email",...a("contactEmail"),defaultValue:"admin@library.com",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number"}),e.jsx("input",{...a("phoneNumber"),defaultValue:"+1 (555) 123-4567",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),e.jsx("input",{...a("website"),defaultValue:"https://library.com",className:"input-field"})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),e.jsx("textarea",{...a("address"),defaultValue:"123 Library Street, City, State 12345",className:"input-field",rows:"3"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Loan Settings"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Loan Period (days)"}),e.jsx("input",{type:"number",...a("defaultLoanPeriod"),defaultValue:"14",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Renewals"}),e.jsx("input",{type:"number",...a("maxRenewals"),defaultValue:"2",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fine per Day ($)"}),e.jsx("input",{type:"number",step:"0.01",...a("finePerDay"),defaultValue:"0.50",className:"input-field"})]})]})]})]});case"notifications":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Due Date Reminders"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Send reminders before books are due"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Overdue Alerts"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Send alerts when books become overdue"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Fine Notifications"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Notify members about outstanding fines"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reminder Timing"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Days before due date"}),e.jsx("input",{type:"number",...a("reminderDays"),defaultValue:"3",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reminder time"}),e.jsx("input",{type:"time",...a("reminderTime"),defaultValue:"09:00",className:"input-field"})]})]})]})]});case"email":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"SMTP Configuration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP Host"}),e.jsx("input",{...a("smtpHost"),defaultValue:"smtp.gmail.com",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP Port"}),e.jsx("input",{type:"number",...a("smtpPort"),defaultValue:"587",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{...a("smtpUsername"),className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),e.jsx("input",{type:"password",...a("smtpPassword"),className:"input-field"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email Templates"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Name"}),e.jsx("input",{...a("fromName"),defaultValue:"Central Library",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Email"}),e.jsx("input",{type:"email",...a("fromEmail"),defaultValue:"noreply@library.com",className:"input-field"})]})]})]})]});case"database":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Database Configuration"}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Warning:"})," Changing database settings requires application restart."]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Database Host"}),e.jsx("input",{...a("dbHost"),defaultValue:"localhost",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Database Port"}),e.jsx("input",{type:"number",...a("dbPort"),defaultValue:"3306",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Database Name"}),e.jsx("input",{...a("dbName"),defaultValue:"library_db",className:"input-field"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Username"}),e.jsx("input",{...a("dbUsername"),defaultValue:"root",className:"input-field"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Backup Settings"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Automatic Backups"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Enable daily database backups"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer",defaultChecked:!0}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Backup Time"}),e.jsx("input",{type:"time",...a("backupTime"),defaultValue:"02:00",className:"input-field max-w-xs"})]})]})]})]});case"security":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Authentication"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-gray-900",children:"Two-Factor Authentication"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Require 2FA for admin accounts"})]}),e.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",className:"sr-only peer"}),e.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Session Timeout (minutes)"}),e.jsx("input",{type:"number",...a("sessionTimeout"),defaultValue:"30",className:"input-field max-w-xs"})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Password Policy"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Minimum Password Length"}),e.jsx("input",{type:"number",...a("minPasswordLength"),defaultValue:"8",className:"input-field max-w-xs"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...a("requireUppercase"),defaultChecked:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Require uppercase letters"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...a("requireNumbers"),defaultChecked:!0,className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Require numbers"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",...a("requireSpecialChars"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Require special characters"})]})]})]})]})]});default:return null}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your library system configuration"})]}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[e.jsx("div",{className:"lg:w-64",children:e.jsx("nav",{className:"space-y-1",children:c.map(g=>e.jsxs("button",{onClick:()=>t(g.key),className:`w-full flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===g.key?"bg-primary-50 text-primary-700 border-r-2 border-primary-600":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"}`,children:[e.jsx(g.icon,{className:"h-5 w-5 mr-3"}),g.label]},g.key))})}),e.jsx("div",{className:"flex-1",children:e.jsxs("form",{onSubmit:l(r),className:"card",children:[o(),e.jsx("div",{className:"flex justify-end pt-6 mt-6 border-t border-gray-200",children:e.jsxs("button",{type:"submit",className:"btn btn-primary",children:[e.jsx(Ja,{className:"h-4 w-4 mr-2"}),"Save Settings"]})})]})})]})]})},Br=()=>e.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:e.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto h-24 w-24 bg-primary-100 rounded-full flex items-center justify-center mb-6",children:e.jsx("span",{className:"text-4xl font-bold text-primary-600",children:"404"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Page Not Found"}),e.jsx("p",{className:"text-gray-600 mb-8",children:"Sorry, we couldn't find the page you're looking for."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(Wt,{to:"/dashboard",className:"btn btn-primary inline-flex items-center",children:[e.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Go to Dashboard"]}),e.jsxs("button",{onClick:()=>window.history.back(),className:"btn btn-outline inline-flex items-center",children:[e.jsx(gs,{className:"h-4 w-4 mr-2"}),"Go Back"]})]})]})})});function Lr(){return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs(Gt,{children:[e.jsxs(le,{path:"/",element:e.jsx(rr,{}),children:[e.jsx(le,{index:!0,element:e.jsx(Zt,{to:"/dashboard",replace:!0})}),e.jsx(le,{path:"dashboard",element:e.jsx(lr,{})}),e.jsx(le,{path:"books",element:e.jsx(Dr,{})}),e.jsx(le,{path:"members",element:e.jsx(Mr,{})}),e.jsx(le,{path:"transactions",element:e.jsx(Cr,{})}),e.jsx(le,{path:"fines",element:e.jsx(Tr,{})}),e.jsx(le,{path:"notifications",element:e.jsx(Fr,{})}),e.jsx(le,{path:"reports",element:e.jsx(_r,{})}),e.jsx(le,{path:"settings",element:e.jsx(Or,{})})]}),e.jsx(le,{path:"*",element:e.jsx(Br,{})})]})})}hs.createRoot(document.getElementById("root")).render(e.jsx(te.StrictMode,{children:e.jsxs(Yt,{children:[e.jsx(Lr,{}),e.jsx(pt,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"},success:{duration:3e3,iconTheme:{primary:"#22c55e",secondary:"#fff"}},error:{duration:5e3,iconTheme:{primary:"#ef4444",secondary:"#fff"}}}})]})}));
//# sourceMappingURL=index-f21bf465.js.map
